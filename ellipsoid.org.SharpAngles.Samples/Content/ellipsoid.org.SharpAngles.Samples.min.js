try{Object.defineProperty(Error.prototype,"message",{enumerable:!0})}catch(e){}var IntelliFactory={Runtime:{Class:function(n,t){function i(){}i.prototype=n;for(var r in t)i[r]=t[r];return i},Define:function(n,t){function i(n,t){var u,f,e;for(u in t)if(f=typeof n[u],e=typeof t[u],f=="object"&&e=="object")i(n[u],t[u]);else if(f=="undefined"||r)n[u]=t[u];else throw new Error("Name conflict: "+u);}var r=!!this.overwrite;i(n,t)},Field:function(n){var t,i=!1;return function(){return i||(i=!0,t=n()),t}},For:function(n,t,i){for(var r=n;r<=t;r++)i(r)},ForEach:function(n,t){for(var i in n)t(i)},New:function(n,t){var i=new n;for(var r in t)r in i||(i[r]=t[r]);return i},OnInit:function(n){"init"in this||(this.init=[]);this.init.push(n)},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Inherit:function(n,t){var r=n.prototype,i;n.prototype=new t;for(i in r)n.prototype[i]=r[i]},Safe:function(n){return n===undefined?{}:n},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"init"in this&&(n(this.init),this.init=[]);"load"in this&&(n(this.load),this.load=[])},Throw:function(n){throw n;},Tupled:function(n){return function(t){return arguments.length>1?n(arguments):n(t)}},Try:function(n,t){try{return n()}catch(i){return t(i)}},TryFinally:function(n,t){try{return n()}finally{t()}},While:function(n,t){while(n())t()}}};Date.now||(Date.now=function(){return(new Date).getTime()});
(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;$.Define($$,{IntelliFactory:{WebSharper:{Arrays:{Find:function(E,F){var G;G=b.tryFind(E,F);return G.$==0?c.FailWith("KeyNotFoundException"):G.$0;},FindIndex:function(H,I){var J;J=b.tryFindIndex(H,I);return J.$==0?c.FailWith("KeyNotFoundException"):J.$0;},Pick:function(K,L){var M;M=b.tryPick(K,L);return M.$==0?c.FailWith("KeyNotFoundException"):M.$0;},average:function(N){return d(b.sum(N))/d(e.GetLength(N));},averageBy:function(O,P){return d(b.sumBy(O,P))/d(e.GetLength(P));},blit:function(Q,R,S,T,U){var V;b.checkRange(Q,R,U);b.checkRange(S,T,U);for(V=0;V<=U-1;V++){e.SetArray(S,T+V,e.GetArray(Q,R+V));}return;},checkLength:function(W,X){return e.GetLength(W)!==e.GetLength(X)?c.FailWith("Arrays differ in length."):null;},checkRange:function(Y,Z,_0){return((_0<0?true:Z<0)?true:e.GetLength(Y)<Z+_0)?c.FailWith("Index was outside the bounds of the array."):null;},choose:function(_1,_2){var _3,_4,_5;_3=[];for(_4=0;_4<=e.GetLength(_2)-1;_4++){_5=_1(e.GetArray(_2,_4));if(_5.$==0){}else{_3.push(_5.$0);}}return _3;},collect:function(_6,_7){return f.prototype.concat.apply([],b.map(_6,_7));},concat:function(_8){return f.prototype.concat.apply([],b.ofSeq(_8));},create:function(_9,_){var ba,bb;ba=f(_9);for(bb=0;bb<=_9-1;bb++){e.SetArray(ba,bb,_);}return ba;},exists2:function(bb,bc,bd){b.checkLength(bc,bd);return g.exists2(bb,bc,bd);},fill:function(be,bf,bg,bh){var bi;b.checkRange(be,bf,bg);for(bi=bf;bi<=bf+bg-1;bi++){e.SetArray(be,bi,bh);}return;},filter:function(bj,bk){var bl,bm;bl=[];for(bm=0;bm<=e.GetLength(bk)-1;bm++){if(bj(e.GetArray(bk,bm))){bl.push(e.GetArray(bk,bm));}}return bl;},fold:function(bn,bo,bp){var bq,br;bq=bo;for(br=0;br<=e.GetLength(bp)-1;br++){bq=(bn(bq))(e.GetArray(bp,br));}return bq;},fold2:function(bs,bt,bu,bv){var bw,bx;b.checkLength(bu,bv);bw=bt;for(bx=0;bx<=bu.length-1;bx++){bw=((bs(bw))(e.GetArray(bu,bx)))(e.GetArray(bv,bx));}return bw;},foldBack:function(by,bz,bA){var bB,bC,bD;bB=bA;bC=e.GetLength(bz);for(bD=1;bD<=bC;bD++){bB=(by(e.GetArray(bz,bC-bD)))(bB);}return bB;},foldBack2:function(bE,bF,bG,bH){var bI,bJ,bK;b.checkLength(bF,bG);bI=e.GetLength(bF);bJ=bH;for(bK=1;bK<=bI;bK++){bJ=((bE(e.GetArray(bF,bI-bK)))(e.GetArray(bG,bI-bK)))(bJ);}return bJ;},forall2:function(bL,bM,bN){b.checkLength(bM,bN);return g.forall2(bL,bM,bN);},init:function(bO,bP){var bQ,bR;if(bO<0){c.FailWith("Negative size given.");}bQ=f(bO);for(bR=0;bR<=bO-1;bR++){e.SetArray(bQ,bR,bP(bR));}return bQ;},iter:function(bS,bT){var bU;for(bU=0;bU<=e.GetLength(bT)-1;bU++){bS(e.GetArray(bT,bU));}return;},iter2:function(bV,bW,bX){var bY;b.checkLength(bW,bX);for(bY=0;bY<=e.GetLength(bW)-1;bY++){(bV(e.GetArray(bW,bY)))(e.GetArray(bX,bY));}return;},iteri:function(bZ,b0){var b1;for(b1=0;b1<=e.GetLength(b0)-1;b1++){(bZ(b1))(e.GetArray(b0,b1));}return;},iteri2:function(b2,b3,b4){var b5;b.checkLength(b3,b4);for(b5=0;b5<=e.GetLength(b3)-1;b5++){((b2(b5))(e.GetArray(b3,b5)))(e.GetArray(b4,b5));}return;},map:function(b6,b7){var b8,b9;b8=f(e.GetLength(b7));for(b9=0;b9<=e.GetLength(b7)-1;b9++){e.SetArray(b8,b9,b6(e.GetArray(b7,b9)));}return b8;},map2:function(b_,b$,ca){var cb,cc;b.checkLength(b$,ca);cb=f(e.GetLength(ca));for(cc=0;cc<=e.GetLength(ca)-1;cc++){e.SetArray(cb,cc,(b_(e.GetArray(b$,cc)))(e.GetArray(ca,cc)));}return cb;},mapi:function(cd,ce){var cf,cg;cf=f(e.GetLength(ce));for(cg=0;cg<=e.GetLength(ce)-1;cg++){e.SetArray(cf,cg,(cd(cg))(e.GetArray(ce,cg)));}return cf;},mapi2:function(ch,ci,cj){var ck,cl;b.checkLength(ci,cj);ck=f(e.GetLength(ci));for(cl=0;cl<=e.GetLength(ci)-1;cl++){e.SetArray(ck,cl,((ch(cl))(e.GetArray(ci,cl)))(e.GetArray(cj,cl)));}return ck;},max:function(cm){return b.reduce(function(cn){return function(co){return c.Max(cn,co);};},cm);},maxBy:function(cp,cq){return b.reduce(function(cr){return function(cs){return h.Compare(cp(cr),cp(cs))===1?cr:cs;};},cq);},min:function(ct){return b.reduce(function(cu){return function(cv){return c.Min(cu,cv);};},ct);},minBy:function(cw,cx){return b.reduce(function(cy){return function(cz){return h.Compare(cw(cy),cw(cz))===-1?cy:cz;};},cx);},nonEmpty:function(cA){return e.GetLength(cA)===0?c.FailWith("The input array was empty."):null;},ofSeq:function(cB){var cC,cD;cC=[];cD=i.Get(cB);while(cD.MoveNext()){cC.push(cD.get_Current());}return cC;},partition:function(cE,cF){var cG,cH,cI;cG=[];cH=[];for(cI=0;cI<=e.GetLength(cF)-1;cI++){if(cE(e.GetArray(cF,cI))){cG.push(e.GetArray(cF,cI));}else{cH.push(e.GetArray(cF,cI));}}return[cG,cH];},permute:function(cJ,cK){var cL,cM;cL=f(e.GetLength(cK));for(cM=0;cM<=e.GetLength(cK)-1;cM++){e.SetArray(cL,cJ(cM),e.GetArray(cK,cM));}return cL;},reduce:function(cN,cO){var cP,cQ;b.nonEmpty(cO);cP=e.GetArray(cO,0);for(cQ=1;cQ<=e.GetLength(cO)-1;cQ++){cP=(cN(cP))(e.GetArray(cO,cQ));}return cP;},reduceBack:function(cR,cS){var cT,cU,cV;b.nonEmpty(cS);cT=e.GetLength(cS);cU=e.GetArray(cS,cT-1);for(cV=2;cV<=cT;cV++){cU=(cR(e.GetArray(cS,cT-cV)))(cU);}return cU;},reverse:function(cW,cX,cY){var cZ;cZ=b.sub(cW,cX,cY).slice().reverse();return b.blit(cZ,0,cW,cX,e.GetLength(cZ));},scan:function(c0,c1,c2){var c3,c4;c3=f(1+e.GetLength(c2));e.SetArray(c3,0,c1);for(c4=0;c4<=e.GetLength(c2)-1;c4++){e.SetArray(c3,c4+1,(c0(e.GetArray(c3,c4)))(e.GetArray(c2,c4)));}return c3;},scanBack:function(c5,c6,c7){var c8,c9,c_;c8=e.GetLength(c6);c9=f(1+c8);e.SetArray(c9,c8,c7);for(c_=0;c_<=c8-1;c_++){e.SetArray(c9,c8-c_-1,(c5(e.GetArray(c6,c8-c_-1)))(e.GetArray(c9,c8-c_)));}return c9;},sort:function(c$){return b.sortBy(function(da){return da;},c$);},sortBy:function(db,dc){var dd;dd=$.Tupled(function(de){var df;df=de[1];return c.Compare(db(de[0]),db(df));});return dc.slice().sort(dd);},sortInPlace:function(dg){return b.sortInPlaceBy(function(dh){return dh;},dg);},sortInPlaceBy:function(di,dj){return dj.sort($.Tupled(function(dk){var dl;dl=dk[1];return c.Compare(di(dk[0]),di(dl));}));},sortInPlaceWith:function(dm,dn){return dn.sort($.Tupled(function(_do){var dp;dp=_do[1];return(dm(_do[0]))(dp);}));},sortWith:function(dq,dr){var ds;ds=$.Tupled(function(dt){var du;du=dt[1];return(dq(dt[0]))(du);});return dr.slice().sort(ds);},sub:function(dv,dw,dx){b.checkRange(dv,dw,dx);return dv.slice(dw,dw+dx);},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tryFind:function(dy,dz){var dA,dB;dA={$:0};dB=0;while(dB<e.GetLength(dz)?dA.$==0:false){if(dy(e.GetArray(dz,dB))){dA={$:1,$0:e.GetArray(dz,dB)};}dB=dB+1;}return dA;},tryFindIndex:function(dC,dD){var dE,dF;dE={$:0};dF=0;while(dF<e.GetLength(dD)?dE.$==0:false){if(dC(e.GetArray(dD,dF))){dE={$:1,$0:dF};}dF=dF+1;}return dE;},tryPick:function(dG,dH){var dI,dJ,dK;dI={$:0};dJ=0;while(dJ<e.GetLength(dH)?dI.$==0:false){dK=dG(e.GetArray(dH,dJ));if(dK.$==1){dI=dK;}dJ=dJ+1;}return dI;},unzip:function(dL){var dM,dN,dO,dP,dQ;dM=[];dN=[];for(dO=0;dO<=e.GetLength(dL)-1;dO++){dP=e.GetArray(dL,dO);dQ=dP[1];dM.push(dP[0]);dN.push(dQ);}return[dM,dN];},unzip3:function(dR){var dS,dT,dU,dV,dW,dX,dY;dS=[];dT=[];dU=[];for(dV=0;dV<=e.GetLength(dR)-1;dV++){dW=e.GetArray(dR,dV);dX=dW[2];dY=dW[1];dS.push(dW[0]);dT.push(dY);dU.push(dX);}return[dS,dT,dU];},zip:function(dZ,d0){var d1,d2;b.checkLength(dZ,d0);d1=f(dZ.length);for(d2=0;d2<=e.GetLength(dZ)-1;d2++){e.SetArray(d1,d2,[e.GetArray(dZ,d2),e.GetArray(d0,d2)]);}return d1;},zip3:function(d3,d4,d5){var d6,d7;b.checkLength(d3,d4);b.checkLength(d4,d5);d6=f(d3.length);for(d7=0;d7<=e.GetLength(d3)-1;d7++){e.SetArray(d6,d7,[e.GetArray(d3,d7),e.GetArray(d4,d7),e.GetArray(d5,d7)]);}return d6;}},Arrays2D:{copy:function(d8){return j.init(d8.length,d8.length?d8[0].length:0,function(d9){return function(d_){return e.GetArray2D(d8,d9,d_);};});},init:function(d$,ea,eb){var ec,ed,ee;ec=j.zeroCreate(d$,ea);for(ed=0;ed<=d$-1;ed++){for(ee=0;ee<=ea-1;ee++){e.SetArray2D(ec,ed,ee,(eb(ed))(ee));}}return ec;},iter:function(ef,eg){var eh,ei,ej,ek;eh=eg.length;ei=eg.length?eg[0].length:0;for(ej=0;ej<=eh-1;ej++){for(ek=0;ek<=ei-1;ek++){ef(e.GetArray2D(eg,ej,ek));}}return;},iteri:function(el,em){var en,eo,ep,eq;en=em.length;eo=em.length?em[0].length:0;for(ep=0;ep<=en-1;ep++){for(eq=0;eq<=eo-1;eq++){((el(ep))(eq))(e.GetArray2D(em,ep,eq));}}return;},map:function(er,es){return j.init(es.length,es.length?es[0].length:0,function(et){return function(eu){return er(e.GetArray2D(es,et,eu));};});},mapi:function(ev,ew){return j.init(ew.length,ew.length?ew[0].length:0,function(ex){return function(ey){return((ev(ex))(ey))(e.GetArray2D(ew,ex,ey));};});},zeroCreate:function(ez,eA){return e.Array2DZeroCreate(ez,eA);}},Char:$.Class({},{GetNumericValue:function(eB){return(eB>=48?eB<=57:false)?d(eB)-d(48):-1;},IsControl:function(eC){return(eC>=0?eC<=31:false)?true:eC>=128?eC<=159:false;},IsDigit:function(eD){return eD>=48?eD<=57:false;},IsLetter:function(eE){return(eE>=65?eE<=90:false)?true:eE>=97?eE<=122:false;},IsLetterOrDigit:function(eF){return k.IsLetter(eF)?true:k.IsDigit(eF);},IsLower:function(eG){return eG>=97?eG<=122:false;},IsUpper:function(eH){return eH>=65?eH<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;}}),Concurrency:{AwaitEvent:function(eI){return{$:0,$0:function(eJ){var eK;eK={contents:undefined};eK.contents=l.subscribeTo(eI,function(eL){eK.contents.Dispose();return eJ({$:0,$0:eL});});return;}};},Bind:function(eM,eN){var eO;eO=eM.$0;return{$:0,$0:function(eP){return eO(function(eQ){var eR;if(eQ.$==1){return eP({$:1,$0:eQ.$0});}else{eR=eQ.$0;return m.fork(function(){var eT;try{return m.Run(eN(eR),eP);}catch(eT){return eP({$:1,$0:eT});}});}});}};},Catch:function(eU){var eV;eV=eU.$0;return{$:0,$0:function(eW){var eY;try{return eV(function(eX){return eX.$==1?eW({$:0,$0:{$:1,$0:eX.$0}}):eW({$:0,$0:{$:0,$0:eX.$0}});});}catch(eY){return eW({$:0,$0:{$:1,$0:eY}});}}};},Delay:function(eZ){return{$:0,$0:function(e0){var e1;try{return m.Run(eZ(null),e0);}catch(e1){return e0({$:1,$0:e1});}}};},For:function(e2,e3){var e4;e4=i.Get(e2);return m.While(function(){return e4.MoveNext();},m.Delay(function(){return e3(e4.get_Current());}));},FromContinuations:function(e7){return{$:0,$0:function(e8){return(e7(function(e9){return e8({$:0,$0:e9});}))(function(e_){return e8({$:1,$0:e_});});}};},Parallel:function(e$){var fa;fa=b.ofSeq(e$);return e.GetLength(fa)===0?m.Return([]):{$:0,$0:function(fb){var fc,fd,fe;fc=fa.length;fd={contents:fc};fe=b.create(fc,undefined);return b.iteri(function(ff){return function(fg){var fh;fh=fg.$0;return m.fork(function(){return fh(function(fj){var fk,fl,fm,fn;fk=[fd.contents,fj];if(fk[0]===0){return null;}else{if(fk[0]===1){if(fk[1].$==1){fl=fk[1].$0;fd.contents=0;return fb({$:1,$0:fl});}else{e.SetArray(fe,ff,fk[1].$0);fd.contents=0;return fb({$:0,$0:fe});}}else{if(fk[1].$==1){fm=fk[1].$0;fd.contents=0;return fb({$:1,$0:fm});}else{fn=fk[0];e.SetArray(fe,ff,fk[1].$0);fd.contents=fn-1;return;}}}});});};},fa);}};},Return:function(fo){return{$:0,$0:function(fp){return fp({$:0,$0:fo});}};},Run:function(fq,fr){return fq.$0.call(null,fr);},Scheduler:$.Class({Fork:function(fs){var fu=this;this.robin.push(fs);if(this.idle){this.idle=false;return n(function(){return fu.tick();},0);}else{return null;}},tick:function(){var fv,fw,fy=this;fv=o.now();fw=true;while(fw){if(this.robin.length===0){this.idle=true;fw=false;}else{(this.robin.shift())(null);if(o.now()-fv>40){n(function(){return fy.tick();},0);fw=false;}}}return;}},{New:function(){var fz;fz=$.New(this,{});fz.idle=true;fz.robin=[];return fz;}}),Sleep:function(fA){return{$:0,$0:function(fB){return n(function(){return fB({$:0,$0:null});},fA);}};},Start:function(fD){return m.StartWithContinuations(fD,function(){},function(fF){return p.Log(["WebSharper: Uncaught asynchronous exception",fF]);});},StartChild:function(fG){var fH;fH=fG.$0;return{$:0,$0:function(fI){var fJ,fK;fJ={contents:{$:0}};fK=[];m.fork(function(){return fH(function(fM){fJ.contents={$:1,$0:fM};while(fK.length>0){(fK.shift())(fM);}return;});});return fI({$:0,$0:{$:0,$0:function(fN){var fO;fO=fJ.contents;return fO.$==0?fK.push(fN):fN(fO.$0);}}});}};},StartWithContinuations:function(fP,fQ,fR){return m.fork(function(){return m.Run(fP,function(fT){return fT.$==1?fR(fT.$0):fQ(fT.$0);});});},TryFinally:function(fU,fV){var fW;fW=fU.$0;return{$:0,$0:function(fX){return fW(function(fY){var fZ;try{fV(null);return fX(fY);}catch(fZ){return fX({$:1,$0:fZ});}});}};},TryWith:function(f0,f1){var f2;f2=f0.$0;return{$:0,$0:function(f3){return f2(function(f4){var f5,f6;if(f4.$==1){f5=f4.$0;try{return m.Run(f1(f5),f3);}catch(f6){return f3({$:1,$0:f6});}}else{return f3({$:0,$0:f4.$0});}});}};},Using:function(f7,f8){return m.TryFinally(f8(f7),function(){return f7.Dispose();});},While:function(f_,f$){return f_(null)?m.Bind(f$,function(){return m.While(f_,f$);}):m.Return(null);},fork:function(gb){return m.scheduler().Fork(gb);},scheduler:$.Field(function(){return q.New();})},DateTimeHelpers:{AddMonths:function(gc,gd){var ge;ge=new o(gc);return(new o(ge.getFullYear(),ge.getMonth()+gd,ge.getDate(),ge.getHours(),ge.getMinutes(),ge.getSeconds(),ge.getMilliseconds())).getTime();},AddYears:function(gf,gg){var gh;gh=new o(gf);return(new o(gh.getFullYear()+gg,gh.getMonth(),gh.getDate(),gh.getHours(),gh.getMinutes(),gh.getSeconds(),gh.getMilliseconds())).getTime();},DatePortion:function(gi){var gj;gj=new o(gi);return(new o(gj.getFullYear(),gj.getMonth(),gj.getDate())).getTime();},TimePortion:function(gk){var gl;gl=new o(gk);return(((24*0+gl.getHours())*60+gl.getMinutes())*60+gl.getSeconds())*1000+gl.getMilliseconds();}},Enumerable:{Of:function(gm){return{GetEnumerator:gm};}},Enumerator:{Get:function(gn){return gn instanceof $$.Array?r.New(0,null,function(go){var gp;gp=go.s;if(gp<e.GetLength(gn)){go.c=e.GetArray(gn,gp);go.s=gp+1;return true;}else{return false;}}):h.Equals(typeof gn,"string")?r.New(0,null,function(gq){var gr;gr=gq.s;if(gr<gn.length){gq.c=gn.charCodeAt(gr);gq.s=gr+1;return true;}else{return false;}}):gn.GetEnumerator();},T:$.Class({MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(gs,gt,gu){var gv;gv=$.New(this,{});gv.s=gs;gv.c=gt;gv.n=gu;return gv;}})},ExtraTopLevelOperatorsProxy:{array2D:function(gw){var gx;gx=b.ofSeq(g.map(function(gy){return b.ofSeq(gy);},gw));gx.dims=2;return gx;}},IntrinsicFunctionProxy:{Array2DZeroCreate:function(gz,gA){var gB;gB=b.init(gz,function(){return f(gA);});gB.dims=2;return gB;},BoundsCheck:function(gD,gE){return(gE<0?true:gE>=e.GetLength(gD))?c.Raise(new s("IndexOutOfRangeException")):null;},BoundsCheck2D:function(gF,gG,gH){return(((gG<0?true:gH<0)?true:gG>=gF.length)?true:gH>=(gF.length?gF[0].length:0))?c.Raise(new s("IndexOutOfRangeException")):null;},GetArray:function(gI,gJ){e.BoundsCheck(gI,gJ);return gI[gJ];},GetArray2D:function(gK,gL,gM){e.BoundsCheck2D(gK,gL,gM);return gK[gL][gM];},GetArray2DSub:function(gN,gO,gP,gQ,gR){var gS,gT,gU,gV,gW;gS=gQ<0?0:gQ;gT=gR<0?0:gR;gU=e.Array2DZeroCreate(gS,gT);for(gV=0;gV<=gS-1;gV++){for(gW=0;gW<=gT-1;gW++){e.SetArray2D(gU,gV,gW,e.GetArray2D(gN,gO+gV,gP+gW));}}return gU;},GetArraySub:function(gX,gY,gZ){var g0,g1;g0=f(gZ);for(g1=0;g1<=gZ-1;g1++){e.SetArray(g0,g1,e.GetArray(gX,gY+1));}return g0;},GetLength:function(g2){return g2.dims===2?g2.length*g2.length:g2.length;},SetArray:function(g3,g4,g5){e.BoundsCheck(g3,g4);g3[g4]=g5;return;},SetArray2D:function(g6,g7,g8,g9){e.BoundsCheck2D(g6,g7,g8);g6[g7][g8]=g9;return;},SetArray2DSub:function(g_,g$,ha,hb,hc,hd){var he,hf;for(he=0;he<=hb-1;he++){for(hf=0;hf<=hc-1;hf++){e.SetArray2D(g_,g$+he,ha+hf,e.GetArray2D(hd,he,hf));}}return;},SetArraySub:function(hg,hh,hi,hj){var hk;for(hk=0;hk<=hi-1;hk++){e.SetArray(hg,hh+hk,e.GetArray(hj,hk));}return;}},JavaScript:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Json:{Activate:function(hl){var hm,hn,ho;hm=hl.$TYPES;for(hn=0;hn<=e.GetLength(hm)-1;hn++){e.SetArray(hm,hn,t.lookup(e.GetArray(hm,hn)));}ho=function(hp){var hq,hr;if(h.Equals(hp,null)){return hp;}else{if(typeof hp==="object"){if(hp instanceof $$.Array){return t.shallowMap(ho,hp);}else{hq=t.shallowMap(ho,hp.$V);hr=hp.$T;return h.Equals(typeof hr,"undefined")?hq:t.restore(e.GetArray(hm,hr),hq);}}else{return hp;}}};return ho(hl.$DATA);},lookup:function(hs){var ht,hu,hv,hw,hx;ht=e.GetLength(hs);hu=$$;hv=0;while(hv<ht){hw=e.GetArray(hs,hv);hx=hu[hw];if(!h.Equals(typeof hx,undefined)){hu=hx;hv=hv+1;}else{c.FailWith("Invalid server reply. Failed to find type: "+hw);}}return hu;},restore:function(hy,hz){var hA;hA=new hy();p.ForEach(hz,function(hB){hA[hB]=hz[hB];return false;});return hA;},shallowMap:function(hC,hD){var hE;if(hD instanceof $$.Array){return b.map(hC,hD);}else{if(typeof hD==="object"){hE={};p.ForEach(hD,function(hF){hE[hF]=hC(hD[hF]);return false;});return hE;}else{return hD;}}}},Lazy:{Create:function(hG){var hH;hH={value:undefined,created:false,eval:hG};hH.eval=function(){if(hH.created){return hH.value;}else{hH.created=true;hH.value=hG(null);return hH.value;}};return hH;},CreateFromValue:function(hJ){return{value:hJ,created:true,eval:function(){return hJ;},eval:function(){return hJ;}};},Force:function(hM){return hM.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){return r.New(this,null,function(hN){var hO,hP;hO=hN.s;if(hO.$==0){return false;}else{hP=hO.$1;hN.c=hO.$0;hN.s=hP;return true;}});},get_Item:function(hQ){return g.nth(hQ,this);},get_Length:function(){return g.length(this);}},{Construct:function(hR,hS){return $.New(v,{$:1,$0:hR,$1:hS});},get_Nil:function(){return $.New(v,{$:0});}}),append:function(hT,hU){return u.ofSeq(g.append(hT,hU));},choose:function(hV,hW){return u.ofSeq(g.choose(hV,hW));},collect:function(hX,hY){return u.ofSeq(g.collect(hX,hY));},concat:function(hZ){return u.ofSeq(g.concat(hZ));},exists2:function(h0,h1,h2){return b.exists2(h0,b.ofSeq(h1),b.ofSeq(h2));},filter:function(h3,h4){return u.ofSeq(g.filter(h3,h4));},fold2:function(h5,h6,h7,h8){return b.fold2(h5,h6,b.ofSeq(h7),b.ofSeq(h8));},foldBack:function(h9,h_,h$){return b.foldBack(h9,b.ofSeq(h_),h$);},foldBack2:function(ia,ib,ic,id){return b.foldBack2(ia,b.ofSeq(ib),b.ofSeq(ic),id);},forall2:function(ie,_if,ig){return b.forall2(ie,b.ofSeq(_if),b.ofSeq(ig));},head:function(ih){return ih.$==1?ih.$0:c.FailWith("The input list was empty.");},init:function(ii,ij){return u.ofArray(b.init(ii,ij));},iter2:function(ik,il,im){return b.iter2(ik,b.ofSeq(il),b.ofSeq(im));},iteri2:function(_in,io,ip){return b.iteri2(_in,b.ofSeq(io),b.ofSeq(ip));},map:function(iq,ir){return u.ofSeq(g.map(iq,ir));},map2:function(is,it,iu){return u.ofArray(b.map2(is,b.ofSeq(it),b.ofSeq(iu)));},map3:function(iv,iw,ix,iy){return u.ofArray(b.map2(function(iz){return function(iA){return iz(iA);};},b.map2(iv,b.ofSeq(iw),b.ofSeq(ix)),b.ofSeq(iy)));},mapi:function(iB,iC){return u.ofSeq(g.mapi(iB,iC));},mapi2:function(iD,iE,iF){return u.ofArray(b.mapi2(iD,b.ofSeq(iE),b.ofSeq(iF)));},max:function(iG){return g.reduce(function(iH){return function(iI){return c.Max(iH,iI);};},iG);},maxBy:function(iJ,iK){return g.reduce(function(iL){return function(iM){return h.Compare(iJ(iL),iJ(iM))===1?iL:iM;};},iK);},min:function(iN){return g.reduce(function(iO){return function(iP){return c.Min(iO,iP);};},iN);},minBy:function(iQ,iR){return g.reduce(function(iS){return function(iT){return h.Compare(iQ(iS),iQ(iT))===-1?iS:iT;};},iR);},ofArray:function(iU){var iV,iW;iV=$.New(v,{$:0});for(iW=0;iW<=e.GetLength(iU)-1;iW++){iV=$.New(v,{$:1,$0:e.GetArray(iU,e.GetLength(iU)-iW-1),$1:iV});}return iV;},ofSeq:function(iX){var iY,iZ,i0;iY=[];iZ=i.Get(iX);while(iZ.MoveNext()){iY.unshift(iZ.get_Current());}i0=iY.slice(0);i0.reverse();return u.ofArray(i0);},partition:function(i1,i2){var i3,i4;i3=b.partition(i1,b.ofSeq(i2));i4=i3[1];return[u.ofArray(i3[0]),u.ofArray(i4)];},permute:function(i5,i6){return u.ofArray(b.permute(i5,b.ofSeq(i6)));},reduceBack:function(i7,i8){return b.reduceBack(i7,b.ofSeq(i8));},replicate:function(i9,i_){return u.ofArray(b.create(i9,i_));},rev:function(i$){var ja;ja=b.ofSeq(i$);ja.reverse();return u.ofArray(ja);},scan:function(jb,jc,jd){return u.ofSeq(g.scan(jb,jc,jd));},scanBack:function(je,jf,jg){return u.ofArray(b.scanBack(je,b.ofSeq(jf),jg));},sort:function(jh){var ji;ji=b.ofSeq(jh);b.sortInPlace(ji);return u.ofArray(ji);},sortBy:function(jj,jk){return u.sortWith(function(jl){return function(jm){return c.Compare(jj(jl),jj(jm));};},jk);},sortWith:function(jn,jo){var jp;jp=b.ofSeq(jo);b.sortInPlaceWith(jn,jp);return u.ofArray(jp);},tail:function(jq){return jq.$==1?jq.$1:c.FailWith("The input list was empty.");},unzip:function(jr){var js,jt,ju,jv,jw;js=[];jt=[];ju=i.Get(jr);while(ju.MoveNext()){jv=ju.get_Current();jw=jv[1];js.push(jv[0]);jt.push(jw);}return[u.ofArray(js.slice(0)),u.ofArray(jt.slice(0))];},unzip3:function(jx){var jy,jz,jA,jB,jC,jD,jE;jy=[];jz=[];jA=[];jB=i.Get(jx);while(jB.MoveNext()){jC=jB.get_Current();jD=jC[2];jE=jC[1];jy.push(jC[0]);jz.push(jE);jA.push(jD);}return[u.ofArray(jy.slice(0)),u.ofArray(jz.slice(0)),u.ofArray(jA.slice(0))];},zip:function(jF,jG){return u.ofArray(b.zip(b.ofSeq(jF),b.ofSeq(jG)));},zip3:function(jH,jI,jJ){return u.ofArray(b.zip3(b.ofSeq(jH),b.ofSeq(jI),b.ofSeq(jJ)));}},OperatorIntrinsics:{GetArraySlice:function(jK,jL,jM){var jN;jN=[jL,jM];return jN[0].$==0?jN[1].$==1?jK.slice(0,jN[1].$0+1):[]:jN[1].$==0?jK.slice(jN[0].$0):jK.slice(jN[0].$0,jN[1].$0+1);},GetArraySlice2D:function(jO,jP,jQ,jR,jS){var jT,jU;jT=jP.$==1?jP.$0:0;jU=jR.$==1?jR.$0:0;return e.GetArray2DSub(jO,jT,jU,(jQ.$==1?jQ.$0:jO.length-1)-jT+1,(jS.$==1?jS.$0:(jO.length?jO[0].length:0)-1)-jU+1);},GetArraySlice2DFixed1:function(jV,jW,jX,jY){var jZ,j0,j1,j2;jZ=jX.$==1?jX.$0:0;j0=(jY.$==1?jY.$0:(jV.length?jV[0].length:0)-1)-jZ+1;j1=f(j0);for(j2=0;j2<=j0-1;j2++){e.SetArray(j1,j2,e.GetArray2D(jV,jW,jZ+j2));}return j1;},GetArraySlice2DFixed2:function(j3,j4,j5,j6){var j7,j8,j9,j_;j7=j4.$==1?j4.$0:0;j8=(j5.$==1?j5.$0:j3.length-1)-j7+1;j9=f(j8);for(j_=0;j_<=j8-1;j_++){e.SetArray(j9,j_,e.GetArray2D(j3,j7+j_,j6));}return j9;},GetStringSlice:function(j$,ka,kb){var kc;kc=[ka,kb];return kc[0].$==0?kc[1].$==1?j$.slice(0,kc[1].$0+1):"":kc[1].$==0?j$.slice(kc[0].$0):j$.slice(kc[0].$0,kc[1].$0+1);},SetArraySlice:function(kd,ke,kf,kg){var kh;kh=ke.$==1?ke.$0:0;return e.SetArraySub(kd,kh,(kf.$==1?kf.$0:e.GetLength(kd)-1)-kh+1,kg);},SetArraySlice2D:function(ki,kj,kk,kl,km,kn){var ko,kp;ko=kj.$==1?kj.$0:0;kp=kl.$==1?kl.$0:0;return e.SetArray2DSub(ki,ko,kp,(kk.$==1?kk.$0:ki.length-1)-ko+1,(km.$==1?km.$0:(ki.length?ki[0].length:0)-1)-kp+1,kn);},SetArraySlice2DFixed1:function(kq,kr,ks,kt,ku){var kv,kw,kx;kv=ks.$==1?ks.$0:0;kw=(kt.$==1?kt.$0:(kq.length?kq[0].length:0)-1)-kv+1;for(kx=0;kx<=kw-1;kx++){e.SetArray2D(kq,kr,kv+kx,e.GetArray(ku,kx));}return;},SetArraySlice2DFixed2:function(ky,kz,kA,kB,kC){var kD,kE,kF;kD=kz.$==1?kz.$0:0;kE=(kA.$==1?kA.$0:ky.length-1)-kD+1;for(kF=0;kF<=kE-1;kF++){e.SetArray2D(ky,kD+kF,kB,e.GetArray(kC,kF));}return;}},Operators:{Compare:function(kG,kH){return h.Compare(kG,kH);},Decrement:function(kI){kI.contents=kI.contents-1;},DefaultArg:function(kJ,kK){return kJ.$==0?kK:kJ.$0;},FailWith:function(kL){return c.Raise(new s(kL));},Increment:function(kM){kM.contents=kM.contents+1;},KeyValue:function(kN){return[kN.K,kN.V];},Max:function(kO,kP){return h.Compare(kO,kP)===1?kO:kP;},Min:function(kQ,kR){return h.Compare(kQ,kR)===-1?kQ:kR;},Pown:function(kS,kT){var kU;kU=function(kV){var kW;if(kV===1){return kS;}else{if(kV%2===0){kW=kU(kV/2>>0);return kW*kW;}else{return kS*kU(kV-1);}}};return kU(kT);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(kX){return kX===0?0:kX<0?-1:1;},Truncate:function(kY){return kY<0?w.ceil(kY):w.floor(kY);},Using:function(kZ,k0){try{return k0(kZ);}finally{kZ.Dispose();}},range:function(k1,k2){return g.init(1+k2-k1,function(k3){return k3+k1;});},step:function(k4,k5,k6){var k7;k7=c.Sign(k5);return g.takeWhile(function(k8){return k7*(k6-k8)>=0;},g.initInfinite(function(k9){return k4+k9*k5;}));}},Option:{bind:function(k_,k$){return k$.$==0?{$:0}:k_(k$.$0);},exists:function(la,lb){return lb.$==0?false:la(lb.$0);},fold:function(lc,ld,le){var lf;if(le.$==0){return ld;}else{lf=le.$0;return(lc(ld))(lf);}},foldBack:function(lg,lh,li){return lh.$==0?li:(lg(lh.$0))(li);},forall:function(lj,lk){return lk.$==0?true:lj(lk.$0);},iter:function(ll,lm){return lm.$==0?null:ll(lm.$0);},map:function(ln,lo){return lo.$==0?{$:0}:{$:1,$0:ln(lo.$0)};},toArray:function(lp){return lp.$==0?[]:[lp.$0];},toList:function(lq){return lq.$==0?$.New(v,{$:0}):u.ofArray([lq.$0]);}},Pervasives:{NewFromList:function(lr){var ls,lt,lu;ls={};lt=i.Get(lr);while(lt.MoveNext()){lu=lt.get_Current();ls[lu[0]]=lu[1];}return ls;}},Queue:{Clear:function(lv){return lv.splice(0,e.GetLength(lv));},Contains:function(lw,lx){return g.exists(function(ly){return h.Equals(lx,ly);},lw);},CopyTo:function(lz,lA,lB){return b.blit(lz,0,lA,lB,e.GetLength(lz));}},Remoting:{AjaxProvider:$.Field(function(){return y.New();}),Async:function(lC,lD){var lE,lF,lG;lE=x.makeHeaders(lC);lF=x.makePayload(lD);lG=$.Tupled(function(lH){var lI,lJ,lK,lM;lI=lH[0];lJ=lH[1];lK=function(lL){return lI(t.Activate(z.parse(lL)));};lM=x.EndPoint();return x.AjaxProvider().Async(lM,lE,lF,lK,lJ);});return m.FromContinuations(function(lN){return function(lO){return lG([lN,lO,function(){}]);};});},Call:function(lQ,lR){var lS,lT,lU;lS=x.EndPoint();lT=x.makeHeaders(lQ);lU=x.makePayload(lR);return t.Activate(z.parse(x.AjaxProvider().Sync(lS,lT,lU)));},EndPoint:$.Field(function(){return"?";}),Send:function(lV,lW){return m.Start(m.Bind(x.Async(lV,lW),function(){return m.Return(null);}));},XhrProvider:$.Class({Async:function(lY,lZ,l0,l1,l2){return x.ajax(true,lY,lZ,l0,l1,l2);},Sync:function(l3,l4,l5){var l6;l6={contents:undefined};x.ajax(false,l3,l4,l5,function(l7){l6.contents=l7;},function(l8){return c.Raise(l8);});return l6.contents;}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();xhr.open("POST",$url,$async);for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(l9){var l_;l_={};l_["content-type"]="application/json";l_["x-websharper-rpc"]=l9;return l_;},makePayload:function(l$){return z.stringify(l$);}},Seq:{append:function(ma,mb){return A.Of(function(){var md;md=i.Get(ma);return r.New(md,null,function(me){var mf;if(me.s.MoveNext()){me.c=me.s.get_Current();return true;}else{if(me.s===md){mf=i.Get(mb);me.s=mf;if(mf.MoveNext()){me.c=mf.get_Current();return true;}else{return false;}}else{return false;}}});});},average:function(mg){var mh;mh=g.fold($.Tupled(function(mi){var mj,mk;mj=mi[0];mk=mi[1];return function(ml){return[mj+1,mk+ml];};}),[0,0],mg);return mh[1]/mh[0];},averageBy:function(mm,mn){var mo;mo=g.fold($.Tupled(function(mp){var mq,mr;mq=mp[0];mr=mp[1];return function(ms){return[mq+1,mr+mm(ms)];};}),[0,0],mn);return mo[1]/mo[0];},cache:function(mt){var mu,mv;mu=[];mv=i.Get(mt);return A.Of(function(){return r.New(0,null,function(mx){if(mx.s+1<mu.length){mx.s=mx.s+1;mx.c=mu[mx.s];return true;}else{if(mv.MoveNext()){mx.s=mx.s+1;mx.c=mv.get_Current();mu.push(mx.get_Current());return true;}else{return false;}}});});},choose:function(my,mz){return g.collect(function(mA){var mB;mB=my(mA);return mB.$==0?$.New(v,{$:0}):u.ofArray([mB.$0]);},mz);},collect:function(mC,mD){return g.concat(g.map(mC,mD));},compareWith:function(mE,mF,mG){var mH,mI,mJ,mK,mL;mH=i.Get(mF);mI=i.Get(mG);mJ=0;mK=true;while(mK?mJ===0:false){mL=[mH.MoveNext(),mI.MoveNext()];if(mL[0]){if(mL[1]){mJ=(mE(mH.get_Current()))(mI.get_Current());}else{mJ=1;}}else{if(mL[1]){mJ=-1;}else{mK=false;}}}return mJ;},concat:function(mM){return A.Of(function(){var mO,mP;mO=i.Get(mM);mP=function(mQ){var mR;mR=mQ.s;if(h.Equals(mR,null)){if(mO.MoveNext()){mQ.s=i.Get(mO.get_Current());return mP(mQ);}else{return false;}}else{if(mR.MoveNext()){mQ.c=mR.get_Current();return true;}else{mQ.s=null;return mP(mQ);}}};return r.New(null,null,mP);});},countBy:function(mS,mT){return g.delay(function(){var mV,mW,mX,mY,mZ;mV={};mW=i.Get(mT);mX=[];while(mW.MoveNext()){mY=mS(mW.get_Current());mZ=h.Hash(mY);if(mV.hasOwnProperty(mZ)){mV[mZ]=mV[mZ]+1;}else{mX.push(mY);mV[mZ]=1;}}return b.map(function(m0){return[m0,mV[h.Hash(m0)]];},mX.slice(0));});},delay:function(m1){return A.Of(function(){return i.Get(m1(null));});},distinct:function(m3){return g.distinctBy(function(m4){return m4;},m3);},distinctBy:function(m5,m6){return A.Of(function(){var m8,m9;m8=i.Get(m6);m9={};return r.New(null,null,function(m_){var m$,na,nc,ne;if(m8.MoveNext()){m$=m8.get_Current();na=function(nb){return h.Hash(m5(nb));};nc=function(nd){return m9.hasOwnProperty(na(nd));};ne=nc(m$);while(ne?m8.MoveNext():false){m$=m8.get_Current();ne=nc(m$);}if(ne){return false;}else{m9[na(m$)]=null;m_.c=m$;return true;}}else{return false;}});});},empty:function(){return[];},enumFinally:function(nf,ng){return A.Of(function(){var ni,nj;try{ni=i.Get(nf);}catch(nj){ng(null);ni=c.Raise(nj);}return r.New(null,null,function(nk){var nl;try{if(ni.MoveNext()){nk.c=ni.get_Current();return true;}else{ng(null);return false;}}catch(nl){ng(null);return c.Raise(nl);}});});},enumUsing:function(nm,nn){return nn(nm);},enumWhile:function(no,np){return A.Of(function(){var nr;nr=function(ns){var nt,nu;nt=ns.s;if(nt.$==1){nu=nt.$0;if(nu.MoveNext()){ns.c=nu.get_Current();return true;}else{ns.s={$:0};return nr(ns);}}else{if(no(null)){ns.s={$:1,$0:i.Get(np)};return nr(ns);}else{return false;}}};return r.New({$:0},null,nr);});},exists:function(nv,nw){var nx,ny;nx=i.Get(nw);ny=false;while(!ny?nx.MoveNext():false){ny=nv(nx.get_Current());}return ny;},exists2:function(nz,nA,nB){var nC,nD,nE;nC=i.Get(nA);nD=i.Get(nB);nE=false;while((!nE?nC.MoveNext():false)?nD.MoveNext():false){nE=(nz(nC.get_Current()))(nD.get_Current());}return nE;},filter:function(nF,nG){return A.Of(function(){var nI;nI=i.Get(nG);return r.New(null,null,function(nJ){var nK,nL,nM;nK=nI.MoveNext();nL=nI.get_Current();nM=false;while(nK){if(nF(nL)){nJ.c=nL;nM=true;nK=false;}else{if(nI.MoveNext()){nL=nI.get_Current();}else{nK=false;}}}return nM;});});},find:function(nN,nO){var nP;nP=g.tryFind(nN,nO);return nP.$==0?c.FailWith("KeyNotFoundException"):nP.$0;},findIndex:function(nQ,nR){var nS;nS=g.tryFindIndex(nQ,nR);return nS.$==0?c.FailWith("KeyNotFoundException"):nS.$0;},fold:function(nT,nU,nV){var nW,nX;nW=nU;nX=i.Get(nV);while(nX.MoveNext()){nW=(nT(nW))(nX.get_Current());}return nW;},forall:function(nY,nZ){return!g.exists(function(n0){return!nY(n0);},nZ);},forall2:function(n1,n2,n3){return!g.exists2(function(n4){return function(n5){return!(n1(n4))(n5);};},n2,n3);},groupBy:function(n6,n7){return g.delay(function(){var n9,n_,n$,oa,ob,oc,od;n9={};n_={};n$=[];oa=i.Get(n7);while(oa.MoveNext()){ob=oa.get_Current();oc=n6(ob);od=h.Hash(oc);if(!n9.hasOwnProperty(od)){n$.push(oc);}n_[od]=oc;if(n9.hasOwnProperty(od)){n9[od].push(ob);}else{n9[od]=[ob];}}return b.map(function(oe){return[oe,n9[h.Hash(oe)]];},n$);});},head:function(of){var og;og=i.Get(of);return og.MoveNext()?og.get_Current():g.insufficient();},init:function(oh,oi){return g.take(oh,g.initInfinite(oi));},initInfinite:function(oj){return A.Of(function(){return r.New(0,null,function(ol){ol.c=oj(ol.s);ol.s=ol.s+1;return true;});});},insufficient:function(){return c.FailWith("The input sequence has an insufficient number of elements.");},isEmpty:function(om){return!i.Get(om).MoveNext();},iter:function(on,oo){return g.iteri(function(){return function(oq){return on(oq);};},oo);},iter2:function(or,os,ot){var ou,ov;ou=i.Get(os);ov=i.Get(ot);while(ou.MoveNext()?ov.MoveNext():false){(or(ou.get_Current()))(ov.get_Current());}return;},iteri:function(ow,ox){var oy,oz;oy=0;oz=i.Get(ox);while(oz.MoveNext()){(ow(oy))(oz.get_Current());oy=oy+1;}return;},length:function(oA){var oB,oC;oB=0;oC=i.Get(oA);while(oC.MoveNext()){oB=oB+1;}return oB;},map:function(oD,oE){return A.Of(function(){var oG;oG=i.Get(oE);return r.New(null,null,function(oH){if(oG.MoveNext()){oH.c=oD(oG.get_Current());return true;}else{return false;}});});},mapi:function(oI,oJ){return g.mapi2(oI,g.initInfinite(function(oK){return oK;}),oJ);},mapi2:function(oL,oM,oN){return A.Of(function(){var oP,oQ;oP=i.Get(oM);oQ=i.Get(oN);return r.New(null,null,function(oR){if(oP.MoveNext()?oQ.MoveNext():false){oR.c=(oL(oP.get_Current()))(oQ.get_Current());return true;}else{return false;}});});},max:function(oS){return g.reduce(function(oT){return function(oU){return h.Compare(oT,oU)>=0?oT:oU;};},oS);},maxBy:function(oV,oW){return g.reduce(function(oX){return function(oY){return h.Compare(oV(oX),oV(oY))>=0?oX:oY;};},oW);},min:function(oZ){return g.reduce(function(o0){return function(o1){return h.Compare(o0,o1)<=0?o0:o1;};},oZ);},minBy:function(o2,o3){return g.reduce(function(o4){return function(o5){return h.Compare(o2(o4),o2(o5))<=0?o4:o5;};},o3);},nth:function(o6,o7){var o8,o9;if(o6<0){c.FailWith("negative index requested");}o8=-1;o9=i.Get(o7);while(o8<o6){if(!o9.MoveNext()){g.insufficient();}o8=o8+1;}return o9.get_Current();},pairwise:function(o_){return g.map(function(o$){return[e.GetArray(o$,0),e.GetArray(o$,1)];},g.windowed(2,o_));},pick:function(pa,pb){var pc;pc=g.tryPick(pa,pb);return pc.$==0?c.FailWith("KeyNotFoundException"):pc.$0;},readOnly:function(pd){return A.Of(function(){return i.Get(pd);});},reduce:function(pf,pg){var ph,pi;ph=i.Get(pg);if(!ph.MoveNext()){c.FailWith("The input sequence was empty");}pi=ph.get_Current();while(ph.MoveNext()){pi=(pf(pi))(ph.get_Current());}return pi;},scan:function(pj,pk,pl){return A.Of(function(){var pn;pn=i.Get(pl);return r.New(false,null,function(po){if(po.s){if(pn.MoveNext()){po.c=(pj(po.get_Current()))(pn.get_Current());return true;}else{return false;}}else{po.c=pk;po.s=true;return true;}});});},skip:function(pp,pq){return A.Of(function(){var ps,pt;ps=i.Get(pq);for(pt=1;pt<=pp;pt++){if(!ps.MoveNext()){g.insufficient();}}return ps;});},skipWhile:function(pu,pv){return A.Of(function(){var px,py;px=i.Get(pv);py=true;while(px.MoveNext()?pu(px.get_Current()):false){py=false;}return py?i.Get(g.empty()):r.New(true,null,function(pz){var pA;if(pz.s){pz.s=false;pz.c=px.get_Current();return true;}else{pA=px.MoveNext();pz.c=px.get_Current();return pA;}});});},sort:function(pB){return g.sortBy(function(pC){return pC;},pB);},sortBy:function(pD,pE){return g.delay(function(){var pG;pG=b.ofSeq(pE);b.sortInPlaceBy(pD,pG);return pG;});},sum:function(pH){return g.fold(function(pI){return function(pJ){return pI+pJ;};},0,pH);},sumBy:function(pK,pL){return g.fold(function(pM){return function(pN){return pM+pK(pN);};},0,pL);},take:function(pO,pP){return A.Of(function(){var pR;pR=i.Get(pP);return r.New(0,null,function(pS){if(pS.s>=pO){return false;}else{if(pR.MoveNext()){pS.s=pS.s+1;pS.c=pR.get_Current();return true;}else{pR.Dispose();pS.s=pO;return false;}}});});},takeWhile:function(pT,pU){return g.delay(function(){return g.enumUsing(i.Get(pU),function(pW){return g.enumWhile(function(){return pW.MoveNext()?pT(pW.get_Current()):false;},g.delay(function(){return[pW.get_Current()];}));});});},toArray:function(pZ){var p0,p1;p0=[];p1=i.Get(pZ);while(p1.MoveNext()){p0.push(p1.get_Current());}return p0.slice(0);},toList:function(p2){return u.ofSeq(p2);},truncate:function(p3,p4){return g.delay(function(){return g.enumUsing(i.Get(p4),function(p6){var p7;p7={contents:0};return g.enumWhile(function(){return p6.MoveNext()?p7.contents<p3:false;},g.delay(function(){c.Increment(p7);return[p6.get_Current()];}));});});},tryFind:function(p_,p$){var qa,qb,qc;qa=i.Get(p$);qb={$:0};while(qb.$==0?qa.MoveNext():false){qc=qa.get_Current();if(p_(qc)){qb={$:1,$0:qc};}}return qb;},tryFindIndex:function(qd,qe){var qf,qg,qh;qf=i.Get(qe);qg=true;qh=0;while(qg?qf.MoveNext():false){if(qd(qf.get_Current())){qg=false;}else{qh=qh+1;}}return qg?{$:0}:{$:1,$0:qh};},tryPick:function(qi,qj){var qk,ql;qk=i.Get(qj);ql={$:0};while(h.Equals(ql,{$:0})?qk.MoveNext():false){ql=qi(qk.get_Current());}return ql;},unfold:function(qm,qn){return A.Of(function(){return r.New(qn,null,function(qp){var qq,qr;qq=qm(qp.s);if(qq.$==0){return false;}else{qr=qq.$0[1];qp.c=qq.$0[0];qp.s=qr;return true;}});});},windowed:function(qs,qt){if(qs<=0){c.FailWith("The input must be non-negative.");}return g.delay(function(){return g.enumUsing(i.Get(qt),function(qv){var qw;qw=[];return g.append(g.enumWhile(function(){return qw.length<qs?qv.MoveNext():false;},g.delay(function(){qw.push(qv.get_Current());return g.empty();})),g.delay(function(){return qw.length===qs?g.append([qw.slice(0)],g.delay(function(){return g.enumWhile(function(){return qv.MoveNext();},g.delay(function(){qw.shift();qw.push(qv.get_Current());return[qw.slice(0)];}));})):g.empty();}));});});},zip:function(qD,qE){return g.mapi2(function(qF){return function(qG){return[qF,qG];};},qD,qE);},zip3:function(qH,qI,qJ){return g.mapi2(function(qK){return $.Tupled(function(qL){return[qK,qL[0],qL[1]];});},qH,g.zip(qI,qJ));}},Stack:{Clear:function(qM){return qM.splice(0,e.GetLength(qM));},Contains:function(qN,qO){return g.exists(function(qP){return h.Equals(qO,qP);},qN);},CopyTo:function(qQ,qR,qS){return b.blit(qR,0,qR,qS,e.GetLength(qQ));}},Strings:{Compare:function(qT,qU){return c.Compare(qT,qU);},CopyTo:function(qV,qW,qX,qY,qZ){return b.blit(B.ToCharArray(qV),qW,qX,qY,qZ);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(q0,q1){return f(q1-q0.length+1).join(C.fromCharCode(32))+q0;},PadRight:function(q2,q3){return q2+f(q3-q2.length+1).join(C.fromCharCode(32));},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(q4,q5,q6){var q7;q7=function(q8){var q9,q_,q$;q9=q8.indexOf(q5);if(q9!==-1){q_=B.ReplaceOnce(q8,q5,q6);q$=q9+q6.length;return B.Substring(q_,0,q9+q6.length)+q7(q_.substring(q$));}else{return q8;}};return q7(q4);},ReplaceChar:function(ra,rb,rc){return B.Replace(ra,C.fromCharCode(rb),C.fromCharCode(rc));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(rd,re,rf){var rg;rg=B.SplitWith(rd,re);return rf===1?b.filter(function(rh){return rh!=="";},rg):rg;},SplitChars:function(ri,rj,rk){return B.Split(ri,new D("["+B.RegexEscape(C.fromCharCode.apply(undefined,rj))+"]"),rk);},SplitStrings:function(rl,rm,rn){return B.Split(rl,new D(B.concat("|",b.map(function(ro){return B.RegexEscape(ro);},rm))),rn);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(rp){return b.init(rp.length,function(rq){return rp.charCodeAt(rq);});},ToCharArrayRange:function(rr,rs,rt){return b.init(rt,function(ru){return rr.charCodeAt(rs+ru);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},collect:function(rv,rw){return b.init(rw.length,function(rx){return rv(rw.charCodeAt(rx));}).join("");},concat:function(ry,rz){return g.toArray(rz).join(ry);},exists:function(rA,rB){return g.exists(rA,B.protect(rB));},forall:function(rC,rD){return g.forall(rC,B.protect(rD));},init:function(rE,rF){return b.init(rE,rF).join("");},iter:function(rG,rH){return g.iter(rG,B.protect(rH));},iteri:function(rI,rJ){return g.iteri(rI,B.protect(rJ));},length:function(rK){return B.protect(rK).length;},map:function(rL,rM){return B.collect(function(rN){return C.fromCharCode(rL(rN));},B.protect(rM));},mapi:function(rO,rP){return g.toArray(g.mapi(function(rQ){return function(rR){return C.fromCharCode((rO(rQ))(rR));};},rP)).join("");},protect:function(rS){return rS===null?"":rS;},replicate:function(rT,rU){return B.init(rT,function(){return rU;});}},Unchecked:{Compare:function(rW,rX){var rY;if(rW===rX){return 0;}else{rY=typeof rW;return rY==="undefined"?typeof rX==="undefined"?0:-1:rY==="function"?c.FailWith("Cannot compare function values."):rY==="boolean"?rW<rX?-1:1:rY==="number"?rW<rX?-1:1:rY==="string"?rW<rX?-1:1:rW===null?-1:rX===null?1:"CompareTo"in rW?rW.CompareTo(rX):(rW instanceof f?rX instanceof f:false)?h.compareArrays(rW,rX):(rW instanceof o?rX instanceof o:false)?h.compareDates(rW,rX):h.compareArrays(p.GetFields(rW),p.GetFields(rX));}},Equals:function(rZ,r0){return rZ===r0?true:typeof rZ==="object"?rZ===null?false:r0===null?false:"Equals"in rZ?rZ.Equals(r0):(rZ instanceof f?r0 instanceof f:false)?h.arrayEquals(rZ,r0):(rZ instanceof o?r0 instanceof o:false)?h.dateEquals(rZ,r0):h.arrayEquals(p.GetFields(rZ),p.GetFields(r0)):false;},Hash:function(r1){var r2;r2=typeof r1;return r2==="function"?0:r2==="boolean"?r1?1:0:r2==="number"?r1:r2==="string"?h.hashString(r1):r2==="object"?r1==null?0:r1 instanceof f?h.hashArray(r1):h.hashObject(r1):0;},arrayEquals:function(r3,r4){var r5,r6;if(e.GetLength(r3)===e.GetLength(r4)){r5=true;r6=0;while(r5?r6<e.GetLength(r3):false){if(!h.Equals(e.GetArray(r3,r6),e.GetArray(r4,r6))){r5=false;}r6=r6+1;}return r5;}else{return false;}},compareArrays:function(r7,r8){var r9,r_;if(e.GetLength(r7)<e.GetLength(r8)){return-1;}else{if(e.GetLength(r7)>e.GetLength(r8)){return 1;}else{r9=0;r_=0;while(r9===0?r_<e.GetLength(r7):false){r9=h.Compare(e.GetArray(r7,r_),e.GetArray(r8,r_));r_=r_+1;}return r9;}}},compareDates:function(r$,sa){return c.Compare(r$.getTime(),sa.getTime());},dateEquals:function(sb,sc){return sb.getTime()===sc.getTime();},hashArray:function(sd){var se,sf;se=-34948909;for(sf=0;sf<=e.GetLength(sd)-1;sf++){se=h.hashMix(se,h.Hash(e.GetArray(sd,sf)));}return se;},hashMix:function(sg,sh){return(sg<<5)+sg+sh;},hashObject:function(si){var sj,sm;if("GetHashCode"in si){return si.GetHashCode();}else{sj=function(sk,sl){return h.hashMix(sk,sl);};sm={contents:0};p.ForEach(si,function(sn){sm.contents=sj(sj(sm.contents,h.hashString(sn)),h.Hash(si[sn]));return false;});return sm.contents;}},hashString:function(so){var sp,sq;if(so===null){return 0;}else{sp=5381;for(sq=0;sq<=so.length-1;sq++){sp=h.hashMix(sp,so.charCodeAt(sq)<<0);}return sp;}}},Util:{addListener:function(sr,ss){sr.Subscribe(l.observer(ss));},observer:function(st){return{OnCompleted:function(){},OnError:function(){},OnNext:st};},subscribeTo:function(sw,sx){return sw.Subscribe(l.observer(sx));}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Arrays);c=$.Safe(a.Operators);d=$.Safe($$.Number);e=$.Safe(a.IntrinsicFunctionProxy);f=$.Safe($$.Array);g=$.Safe(a.Seq);h=$.Safe(a.Unchecked);i=$.Safe(a.Enumerator);j=$.Safe(a.Arrays2D);k=$.Safe(a.Char);l=$.Safe(a.Util);m=$.Safe(a.Concurrency);n=$.Safe($$.setTimeout);o=$.Safe($$.Date);p=$.Safe(a.JavaScript);q=$.Safe(m.Scheduler);r=$.Safe(i.T);s=$.Safe($$.Error);t=$.Safe(a.Json);u=$.Safe(a.List);v=$.Safe(u.T);w=$.Safe($$.Math);x=$.Safe(a.Remoting);y=$.Safe(x.XhrProvider);z=$.Safe($$.JSON);A=$.Safe(a.Enumerable);B=$.Safe(a.Strings);C=$.Safe($$.String);return D=$.Safe($$.RegExp);});$.OnLoad(function(){x.EndPoint();x.AjaxProvider();m.scheduler();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;$.Define($$,{IntelliFactory:{WebSharper:{Testing:{Assert:{For:function(r,s,t){var u,v;for(u=0;u<=b.GetLength(s.Base)-1;u++){t(b.GetArray(s.Base,u));}for(v=1;v<=r;v++){t(s.Next.call(null,null));}return;},Raises:function(w){var x;try{w(null);return c(false,"Assert raises exception test failed.");}catch(x){return c(true,"Pass.");}}},Pervasives:{Is:function(y,z){if(!d.Equals(y,z)){e.Log(["Equality test failed.",y,z]);return c(false,"Equality test failed.");}else{return c(true,"Pass.");}},Isnt:function(A,B){if(d.Equals(A,B)){e.Log(["Inequality test failed.",A,B]);return c(false,"Inequality test failed.");}else{return c(true,"Pass.");}},Test:function(C){return h.New(C);},TestBuilder:$.Class({Delay:function(D){return i(this.name,D);},Zero:function(){return null;}},{New:function(E){var F;F=$.New(this,{});F.name=E;return F;}})},Random:{ArrayOf:function(G){return{Base:[[]],Next:function(){return j.init(k.Natural().Next.call(null,null)%100,function(){return G.Next.call(null,null);});}};},Boolean:$.Field(function(){return{Base:[true,false],Next:function(){return k.StandardUniform().Next.call(null,null)>0.5;}};}),Const:function(K){return{Base:[K],Next:function(){return K;}};},Exponential:function(M){return{Base:[],Next:function(){return-l.log(1-k.StandardUniform().Next.call(null,null))/M;}};},Float:$.Field(function(){return{Base:[0],Next:function(){return(k.Boolean().Next.call(null,null)?1:-1)*k.Exponential(0.1).Next.call(null,null);}};}),FloatExhaustive:$.Field(function(){return{Base:[0,m,n,-n],Next:function(){return k.Float().Next.call(null,null);}};}),FloatWithin:function(Q,R){return{Base:[Q,R],Next:function(){return Q+(R-Q)*l.random();}};},Implies:function(T,U){return!T?true:U;},Imply:function(V,W){return k.Implies(V,W);},Int:$.Field(function(){return{Base:[0,1,-1],Next:function(){return l.round(k.Float().Next.call(null,null));}};}),ListOf:function(Y){return k.Map(function(Z){return o.ofArray(Z);},k.ArrayOf(Y));},Map:function(_0,_1){var _2;_2=_1.Next;return{Base:j.map(_0,_1.Base),Next:function(_3){return _0(_2(_3));}};},Mix:function(_4,_5){var _6;_6={contents:false};return{Base:_4.Base.concat(_5.Base),Next:function(){_6.contents=!_6.contents;return _6.contents?_4.Next.call(null,null):_5.Next.call(null,null);}};},Natural:$.Field(function(){var _8;_8=k.Int().Next;return{Base:[0,1],Next:function(_9){return l.abs(_8(_9));}};}),OneOf:function(_){var ba;ba=k.Within(1,b.GetLength(_));return{Base:_,Next:function(){return b.GetArray(_,ba.Next.call(null,null)-1);}};},OptionOf:function(bb){return k.Mix(k.Const({$:0}),k.Map(function(bc){return{$:1,$0:bc};},bb));},StandardUniform:$.Field(function(){return{Base:[],Next:function(){return l.random();}};}),String:$.Field(function(){return{Base:[""],Next:function(){return p.fromCharCode.apply(undefined,j.init(k.Natural().Next.call(null,null)%100,function(){return k.Int().Next.call(null,null)%256;}));}};}),StringExhaustive:$.Field(function(){return{Base:[null,""],Next:k.String().Next};}),Tuple2Of:function(bg,bh){return{Base:q.toArray(q.delay(function(){return q.collect(function(bj){return q.map(function(bk){return[bj,bk];},bh.Base);},bg.Base);})),Next:function(){return[bg.Next.call(null,null),bh.Next.call(null,null)];}};},Tuple3Of:function(bm,bn,bo){return{Base:q.toArray(q.delay(function(){return q.collect(function(bq){return q.collect(function(br){return q.map(function(bs){return[bq,br,bs];},bo.Base);},bn.Base);},bm.Base);})),Next:function(){return[bm.Next.call(null,null),bn.Next.call(null,null),bo.Next.call(null,null)];}};},Within:function(bu,bv){return{Base:[bu,bv],Next:function(){return k.Natural().Next.call(null,null)%(bv-bu)+bu;}};}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.IntrinsicFunctionProxy);c=$.Safe($$.ok);d=$.Safe(a.Unchecked);e=$.Safe(a.JavaScript);f=$.Safe(a.Testing);g=$.Safe(f.Pervasives);h=$.Safe(g.TestBuilder);i=$.Safe($$.test);j=$.Safe(a.Arrays);k=$.Safe(f.Random);l=$.Safe($$.Math);m=$.Safe($$.NaN);n=$.Safe($$.Infinity);o=$.Safe(a.List);p=$.Safe($$.String);return q=$.Safe(a.Seq);});$.OnLoad(function(){k.StringExhaustive();k.String();k.StandardUniform();k.Natural();k.Int();k.FloatExhaustive();k.Float();k.Boolean();return;});}());

var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;$.Define($$,{IntelliFactory:{WebSharper:{Html:{Activator:{Activate:$.Field(function(){var B;if(c.hasDocument()){B=d.getElementById("websharper-data");return B?e.OnLoad(function(){var D;D=f.GetFields(g.Activate(h.parse(B.getAttribute("content"))));return i.iter($.Tupled(function(E){var F,G,H;F=E[0];G=E[1].get_Body();H=d.getElementById(F);H.parentNode.replaceChild(G.get_Body(),H);return G.Render();}),D);}):null;}else{return null;}}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},Attribute:$.Class({Render:function(){return null;},get_Body:function(){var I;I=this.HtmlProvider.CreateAttribute(this.Name);I.value=this.Value;return I;}},{New:function(J,K,L){var M;M=j.New1(J);M.Name=K;M.Value=L;return M;},New1:function(N){var O;O=$.New(this,{});O.HtmlProvider=N;return O;}}),AttributeBuilder:$.Class({Class:function(P){return this.NewAttr("class",P);},NewAttr:function(Q,R){return j.New(this.HtmlProvider,Q,R);},get_CheckBox:function(){return this.NewAttr("type","checkbox");},get_Hidden:function(){return this.NewAttr("type","hidden");},get_Password:function(){return this.NewAttr("type","password");},get_Radio:function(){return this.NewAttr("type","radio");},get_Reset:function(){return this.NewAttr("type","reset");},get_Submit:function(){return this.NewAttr("type","submit");},get_TextField:function(){return this.NewAttr("type","textfield");}},{New:function(S){var T;T=$.New(this,{});T.HtmlProvider=S;return T;}}),Default:{A:function(U){return e.Tags().NewTag("a",U);},Action:function(V){return e.Attr().NewAttr("action",V);},Align:function(W){return e.Attr().NewAttr("align",W);},Alt:function(X){return e.Attr().NewAttr("alt",X);},Attr:$.Field(function(){return k.Attr();}),B:function(Y){return e.Tags().NewTag("b",Y);},Body:function(Z){return e.Tags().NewTag("body",Z);},Br:function(_0){return e.Tags().NewTag("br",_0);},Button:function(_1){return e.Tags().NewTag("button",_1);},Code:function(_2){return e.Tags().NewTag("code",_2);},Deprecated:$.Field(function(){return k.DeprecatedHtml();}),Div:function(_3){return e.Tags().Div(_3);},Em:function(_4){return e.Tags().NewTag("em",_4);},Form:function(_5){return e.Tags().NewTag("form",_5);},H1:function(_6){return e.Tags().NewTag("h1",_6);},H2:function(_7){return e.Tags().NewTag("h2",_7);},H3:function(_8){return e.Tags().NewTag("h3",_8);},H4:function(_9){return e.Tags().NewTag("h4",_9);},HRef:function(_){return e.Attr().NewAttr("href",_);},HTML5:{Attr:$.Field(function(){return l.Attr();}),Tags:$.Field(function(){return l.Tags();})},Head:function(ba){return e.Tags().NewTag("head",ba);},Height:function(ba){return e.Attr().NewAttr("height",ba);},Hr:function(bb){return e.Tags().NewTag("hr",bb);},I:function(bc){return e.Tags().NewTag("i",bc);},IFrame:function(bd){return e.Tags().NewTag("iframe",bd);},Id:function(be){return e.Attr().NewAttr("id",be);},Img:function(bf){return e.Tags().NewTag("img",bf);},Input:function(bg){return e.Tags().NewTag("input",bg);},LI:function(bh){return e.Tags().NewTag("li",bh);},Name:function(bi){return e.Attr().NewAttr("name",bi);},NewAttr:function(bj){return function(bk){return e.Attr().NewAttr(bj,bk);};},OL:function(bl){return e.Tags().NewTag("ol",bl);},OnLoad:function(bm){return k.HtmlProvider().OnDocumentReady(bm);},P:function(bn){return e.Tags().NewTag("p",bn);},Pre:function(bo){return e.Tags().NewTag("pre",bo);},RowSpan:function(bp){return e.Attr().NewAttr("rowspan",bp);},Script:function(bq){return e.Tags().NewTag("script",bq);},Select:function(br){return e.Tags().NewTag("select",br);},Selected:function(bs){return e.Attr().NewAttr("selected",bs);},Span:function(bt){return e.Tags().NewTag("span",bt);},Src:function(bu){return e.Attr().NewAttr("src",bu);},TBody:function(bv){return e.Tags().NewTag("tbody",bv);},TD:function(bw){return e.Tags().NewTag("td",bw);},TFoot:function(bx){return e.Tags().NewTag("tfoot",bx);},TH:function(by){return e.Tags().NewTag("th",by);},THead:function(bz){return e.Tags().NewTag("thead",bz);},TR:function(bA){return e.Tags().NewTag("tr",bA);},Table:function(bB){return e.Tags().NewTag("table",bB);},Tags:$.Field(function(){return k.Tags();}),Text:function(bC){return e.Tags().text(bC);},TextArea:function(bD){return e.Tags().NewTag("textarea",bD);},UL:function(bE){return e.Tags().NewTag("ul",bE);},VAlign:function(bF){return e.Attr().NewAttr("valign",bF);},Width:function(bG){return e.Attr().NewAttr("width",bG);}},DeprecatedAttributeBuilder:$.Class({NewAttr:function(bH,bI){return j.New(this.HtmlProvider,bH,bI);}},{New:function(bJ){var bK;bK=$.New(this,{});bK.HtmlProvider=bJ;return bK;}}),DeprecatedTagBuilder:$.Class({NewTag:function(bL,bM){var bN,bO;bN=m.New(this.HtmlProvider,bL);bO=n.Get(bM);while(bO.MoveNext()){bN.AppendI(bO.get_Current());}return bN;}},{New:function(bP){var bQ;bQ=$.New(this,{});bQ.HtmlProvider=bP;return bQ;}}),Element:$.Class({AppendI:function(bR){var bS,bT;bS=bR.get_Body();if(bS.nodeType===2){this["HtmlProvider@32"].AppendAttribute(this.Body,bS);}else{this["HtmlProvider@32"].AppendNode(this.Body,bR.get_Body());}if(this.IsRendered){return bR.Render();}else{bT=this.RenderInternal;this.RenderInternal=function(){bT(null);return bR.Render();};return;}},AppendN:function(bV){return this["HtmlProvider@32"].AppendNode(this.Body,bV);},OnLoad:function(bW){return this["HtmlProvider@32"].OnLoad(this.Body,bW);},Render:function(){if(!this.IsRendered){this.RenderInternal.call(null,null);this.IsRendered=true;return;}else{return null;}},get_Body:function(){return this.Body;},get_Html:function(){return this["HtmlProvider@32"].GetHtml(this.Body);},get_HtmlProvider:function(){return this["HtmlProvider@32"];},get_Id:function(){var bX,bY;bX=this["HtmlProvider@32"].GetProperty(this.Body,"id");if(bX===undefined?true:bX===""){bY="id"+o.round(o.random()*100000000);this["HtmlProvider@32"].SetProperty(this.Body,"id",bY);return bY;}else{return bX;}},get_Item:function(bZ){this["HtmlProvider@32"].GetAttribute(this.Body,bZ);return this["HtmlProvider@32"].GetAttribute(this.Body,bZ);},get_Text:function(){return this["HtmlProvider@32"].GetText(this.Body);},get_Value:function(){return this["HtmlProvider@32"].GetValue(this.Body);},set_Html:function(b0){return this["HtmlProvider@32"].SetHtml(this.Body,b0);},set_Item:function(b1,b2){return this["HtmlProvider@32"].SetAttribute(this.Body,b1,b2);},set_Text:function(b3){return this["HtmlProvider@32"].SetText(this.Body,b3);},set_Value:function(b4){return this["HtmlProvider@32"].SetValue(this.Body,b4);}},{New:function(b5,b6){var b7,b8;b7=m.New1(b5);b8=d.createElement(b6);b7.RenderInternal=function(){};b7.Body=b8;b7.IsRendered=false;return b7;},New1:function(b_){var b$;b$=$.New(this,{});b$["HtmlProvider@32"]=b_;return b$;}}),Events:{JQueryEventSupport:$.Class({OnBlur:function(ca,cb){return p(cb.get_Body()).bind("blur",function(){return ca(cb);});},OnChange:function(cd,ce){return p(ce.get_Body()).bind("change",function(){return cd(ce);});},OnClick:function(cg,ch){return this.OnMouse("click",cg,ch);},OnDoubleClick:function(ci,cj){return this.OnMouse("dblclick",ci,cj);},OnError:function(ck,cl){return p(cl.get_Body()).bind("error",function(){return ck(cl);});},OnFocus:function(cn,co){return p(co.get_Body()).bind("focus",function(){return cn(co);});},OnKeyDown:function(cq,cr){var cs;cs=function(ct){return(cq(cr))({KeyCode:ct.keyCode});};return p(cr.get_Body()).bind("keydown",cs);},OnKeyPress:function(cu,cv){return p(cv.get_Body()).keypress(function(cw){return(cu(cv))({CharacterCode:cw.which});});},OnKeyUp:function(cx,cy){var cz;cz=function(cA){return(cx(cy))({KeyCode:cA.keyCode});};return p(cy.get_Body()).bind("keyup",cz);},OnLoad:function(cB,cC){return p(cC.get_Body()).bind("load",function(){return cB(cC);});},OnMouse:function(cE,cF,cG){var cH;cH=function(cI){return(cF(cG))({X:cI.pageX,Y:cI.pageY});};return p(cG.get_Body()).bind(cE,cH);},OnMouseDown:function(cJ,cK){return this.OnMouse("mousedown",cJ,cK);},OnMouseEnter:function(cL,cM){return this.OnMouse("mouseenter",cL,cM);},OnMouseLeave:function(cN,cO){return this.OnMouse("mouseleave",cN,cO);},OnMouseMove:function(cP,cQ){return this.OnMouse("mousemove",cP,cQ);},OnMouseOut:function(cR,cS){return this.OnMouse("mouseout",cR,cS);},OnMouseUp:function(cT,cU){return this.OnMouse("mouseup",cT,cU);},OnResize:function(cV,cW){return p(cW.get_Body()).bind("resize",function(){return cV(cW);});},OnScroll:function(cY,cZ){return p(cZ.get_Body()).bind("scroll",function(){return cY(cZ);});},OnSelect:function(c1,c2){return p(c2.get_Body()).bind("select",function(){return c1(c2);});},OnSubmit:function(c4,c5){return p(c5.get_Body()).bind("submit",function(){return c4(c5);});},OnUnLoad:function(c7,c8){return p(c8.get_Body()).bind("unload",function(){return c7(c8);});}},{New:function(){return $.New(this,{});}})},EventsPervasives:{Events:$.Field(function(){return r.New();})},Html5AttributeBuilder:$.Class({NewAttr:function(c_,c$){return j.New(this.HtmlProvider,c_,c$);}},{New:function(da){var db;db=$.New(this,{});db.HtmlProvider=da;return db;}}),Html5TagBuilder:$.Class({NewTag:function(dc,dd){var de,df;de=m.New(this.HtmlProvider,dc);df=n.Get(dd);while(df.MoveNext()){de.AppendI(df.get_Current());}return de;}},{New:function(dg){var dh;dh=$.New(this,{});dh.HtmlProvider=dg;return dh;}}),Implementation:{Attr:$.Field(function(){return s.New(k.HtmlProvider());}),DeprecatedHtml:$.Field(function(){return t.New(k.HtmlProvider());}),HTML5:{Attr:$.Field(function(){return u.New(l.Html5Provider());}),Html5Provider:$.Field(function(){return v.New();}),Tags:$.Field(function(){return w.New(l.Html5Provider());})},HtmlProvider:$.Field(function(){return v.New();}),JQueryHtmlProvider:$.Class({AddClass:function(di,dj){return p(di).addClass(dj);},AppendAttribute:function(dk,dl){return this.SetAttribute(dk,dl.nodeName,dl.value);},AppendNode:function(dm,dn){return p(dm).append(p(dn));},Clear:function(_do){return p(_do).contents().detach();},CreateAttribute:function(dp){return d.createAttribute(dp);},CreateElement:function(dq){return d.createElement(dq);},CreateTextNode:function(dr){return d.createTextNode(dr);},GetAttribute:function(ds,dt){return p(ds).attr(dt);},GetHtml:function(du){return p(du).html();},GetProperty:function(dv,dw){return p(dv).attr(dw);},GetText:function(dx){return dx.textContent;},GetValue:function(dy){return p(dy).val();},HasAttribute:function(dz,dA){return p(dz).attr(dA)!=null;},OnDocumentReady:function(dB){return p(d).ready(dB);},OnLoad:function(dC,dD){return p(dC).ready(dD);},Remove:function(dE){return p(dE).remove();},RemoveAttribute:function(dF,dG){return p(dF).removeAttr(dG);},RemoveClass:function(dH,dI){return p(dH).removeClass(dI);},SetAttribute:function(dJ,dK,dL){return p(dJ).attr(dK,dL);},SetCss:function(dM,dN,dO){return p(dM).css(dN,dO);},SetHtml:function(dP,dQ){return p(dP).html(dQ);},SetProperty:function(dR,dS,dT){return p(dR).prop(dS,dT);},SetStyle:function(dU,dV){return p(dU).attr("style",dV);},SetText:function(dW,dX){dW.textContent=dX;},SetValue:function(dY,dZ){return p(dY).val(dZ);}},{New:function(){return $.New(this,{});}}),Tags:$.Field(function(){return x.New(k.HtmlProvider());})},Operators:{OnAfterRender:function(d0,d1){var d2;d2=d1.Render;d1.Render=function(){d2.apply(d1);return d0(d1);};return;},OnBeforeRender:function(d4,d5){var d6;d6=d5.Render;d5.Render=function(){d4(d5);return d6.apply(d5);};return;},add:function(d8,d9){var d_;d_=n.Get(d9);while(d_.MoveNext()){d8.AppendI(d_.get_Current());}return d8;}},PageletExtensions:{"IPagelet.AppendTo":function(d$,ea){d.getElementById(ea).appendChild(d$.get_Body());return d$.Render();}},TagBuilder:$.Class({Div:function(eb){return this.NewTag("div",eb);},NewTag:function(ec,ed){var ee,ef;ee=m.New(this.HtmlProvider,ec);ef=n.Get(ed);while(ef.MoveNext()){ee.AppendI(ef.get_Current());}return ee;},text:function(eg){return $.New(y,{text:eg});}},{New:function(eh){var ei;ei=$.New(this,{});ei.HtmlProvider=eh;return ei;}}),Text:$.Class({Render:function(){return null;},get_Body:function(){return d.createTextNode(this.text);}})}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Html);c=$.Safe(b.Activator);d=$.Safe($$.document);e=$.Safe(b.Default);f=$.Safe(a.JavaScript);g=$.Safe(a.Json);h=$.Safe($$.JSON);i=$.Safe(a.Arrays);j=$.Safe(b.Attribute);k=$.Safe(b.Implementation);l=$.Safe(k.HTML5);m=$.Safe(b.Element);n=$.Safe(a.Enumerator);o=$.Safe($$.Math);p=$.Safe($$.jQuery);q=$.Safe(b.Events);r=$.Safe(q.JQueryEventSupport);s=$.Safe(b.AttributeBuilder);t=$.Safe(b.DeprecatedTagBuilder);u=$.Safe(b.Html5AttributeBuilder);v=$.Safe(k.JQueryHtmlProvider);w=$.Safe(b.Html5TagBuilder);x=$.Safe(b.TagBuilder);y=$.Safe(b.Text);z=$.Safe(e.HTML5);return A=$.Safe(b.EventsPervasives);});$.OnLoad(function(){k.Tags();k.HtmlProvider();l.Tags();l.Html5Provider();l.Attr();k.DeprecatedHtml();k.Attr();A.Events();e.Tags();z.Tags();z.Attr();e.Deprecated();e.Attr();c.Activate();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;$.Define($$,{IntelliFactory:{WebSharper:{Control:{Disposable:{Of:function(y){return{Dispose:y};}},Event:{Event:$.Class({AddHandler:function(z){return this.Handlers.Add(z);},RemoveHandler:function(A){var B;B=this.Handlers;return b.iter(function(C){return B.RemoveAt(C);},c.tryFindIndex(function(D){return d.Equals(A,D);},this.Handlers));},Subscribe:function(E){var F,I=this;F=function(G){return E.OnNext(G);};this.AddHandler(F);return f.Of(function(){return I.RemoveHandler(F);});},Trigger:function(J){var K,L;K=this.Handlers.ToArray();for(L=0;L<=K.length-1;L++){(g.GetArray(K,L))(J);}return;}})},EventModule:{Choose:function(M,N){var O;O=h.New();i.addListener(N,function(P){var Q;Q=M(P);return Q.$==0?null:O.event.Trigger(Q.$0);});return O.event;},Filter:function(R,S){var T;T=$.New(k,{Handlers:n.New1()});i.addListener(S,function(U){return R(U)?T.Trigger(U):null;});return T;},Map:function(V,W){var X;X=$.New(k,{Handlers:n.New1()});i.addListener(W,function(Y){return X.Trigger(V(Y));});return X;},Merge:function(Z,_0){var _1;_1=$.New(k,{Handlers:n.New1()});i.addListener(Z,function(_2){return _1.Trigger(_2);});i.addListener(_0,function(_3){return _1.Trigger(_3);});return _1;},Pairwise:function(_4){var _5,_6;_5={contents:{$:0}};_6=$.New(k,{Handlers:n.New1()});i.addListener(_4,function(_7){var _8,_9;_8=_5.contents;if(_8.$==1){_9=_8.$0;_5.contents={$:1,$0:_7};return _6.Trigger([_9,_7]);}else{_5.contents={$:1,$0:_7};return;}});return _6;},Partition:function(_,ba){return[o.Filter(_,ba),o.Filter(function(bb){return!_(bb);},ba)];},Scan:function(bb,bc,bd){var be;be={contents:bc};return o.Map(function(bf){be.contents=(bb(be.contents))(bf);return be.contents;},bd);},Split:function(bg,bh){return[o.Choose(function(bi){var bj;bj=bg(bi);return bj.$==0?{$:1,$0:bj.$0}:{$:0};},bh),o.Choose(function(bk){var bl;bl=bg(bk);return bl.$==1?{$:1,$0:bl.$0}:{$:0};},bh)];}},FSharpEvent:$.Class({},{New:function(){var bm;bm=$.New(this,{});bm.event=$.New(k,{Handlers:n.New1()});return bm;}}),HotStream:{HotStream:$.Class({Subscribe:function(bn){if(this.Latest.contents.$==1){bn.OnNext(this.Latest.contents.$0);}return i.subscribeTo(this.Event.event,function(bo){return bn.OnNext(bo);});},Trigger:function(bp){this.Latest.contents={$:1,$0:bp};return this.Event.event.Trigger(bp);}},{New:function(){return $.New(q,{Latest:{contents:{$:0}},Event:h.New()});}})},Observable:{Aggregate:function(bq,br,bs){return r.New(function(bt){var bu;bu={contents:br};return bq.Subscribe(s.New(function(bv){return r.Protect(function(){return(bs(bu.contents))(bv);},function(bx){bu.contents=bx;return bt.OnNext(bx);},function(by){return bt.OnError(by);});},function(bz){return bt.OnError(bz);},function(){return bt.OnCompleted();}));});},Choose:function(bB,bC){return r.New(function(bD){return bC.Subscribe(s.New(function(bE){var bG;bG=function(bH){return bD.OnNext(bH);};return r.Protect(function(){return bB(bE);},function(bI){return b.iter(bG,bI);},function(bJ){return bD.OnError(bJ);});},function(bK){return bD.OnError(bK);},function(){return bD.OnCompleted();}));});},CombineLatest:function(bM,bN,bO){return r.New(function(bP){var bQ,bR,bS,b0,b4,b8,b9;bQ={contents:{$:0}};bR={contents:{$:0}};bS=function(){var bU,bV,bW;bU=[bQ.contents,bR.contents];if(bU[0].$==1){if(bU[1].$==1){bV=bU[0].$0;bW=bU[1].$0;return r.Protect(function(){return(bO(bV))(bW);},function(bY){return bP.OnNext(bY);},function(bZ){return bP.OnError(bZ);});}else{return null;}}else{return null;}};b0=s.New(function(b1){bQ.contents={$:1,$0:b1};return bS(null);},function(){},function(){});b4=s.New(function(b5){bR.contents={$:1,$0:b5};return bS(null);},function(){},function(){});b8=bM.Subscribe(b0);b9=bN.Subscribe(b4);return f.Of(function(){b8.Dispose();return b9.Dispose();});});},Concat:function(b$,ca){return r.New(function(cb){var cc,cd;cc={contents:{$:0}};cd=b$.Subscribe(s.New(function(ce){return cb.OnNext(ce);},function(){},function(){cc.contents={$:1,$0:ca.Subscribe(cb)};}));return f.Of(function(){if(cc.contents.$==1){cc.contents.$0.Dispose();}return cd.Dispose();});});},Drop:function(ci,cj){return r.New(function(ck){var cl;cl={contents:0};return cj.Subscribe(s.New(function(cm){t.Increment(cl);return cl.contents>ci?ck.OnNext(cm):null;},function(cn){return ck.OnError(cn);},function(){return ck.OnCompleted();}));});},Filter:function(cp,cq){return r.New(function(cr){return cq.Subscribe(s.New(function(cs){var cu;cu=function(cv){return cr.OnNext(cv);};return r.Protect(function(){return cp(cs)?{$:1,$0:cs}:{$:0};},function(cw){return b.iter(cu,cw);},function(cx){return cr.OnError(cx);});},function(cy){return cr.OnError(cy);},function(){return cr.OnCompleted();}));});},Map:function(cA,cB){return r.New(function(cC){return cB.Subscribe(s.New(function(cD){return r.Protect(function(){return cA(cD);},function(cF){return cC.OnNext(cF);},function(cG){return cC.OnError(cG);});},function(cH){return cC.OnError(cH);},function(){return cC.OnCompleted();}));});},Merge:function(cJ,cK){return r.New(function(cL){var cM,cN,cO,cS;cM={contents:false};cN={contents:false};cO=cJ.Subscribe(s.New(function(cP){return cL.OnNext(cP);},function(){},function(){cM.contents=true;return(cM.contents?cN.contents:false)?cL.OnCompleted():null;}));cS=cK.Subscribe(s.New(function(cT){return cL.OnNext(cT);},function(){},function(){cN.contents=true;return(cM.contents?cN.contents:false)?cL.OnCompleted():null;}));return f.Of(function(){cO.Dispose();return cS.Dispose();});});},Never:function(){return r.New(function(){return f.Of(function(){});});},New:function(cZ){return $.New(u,{Subscribe1:cZ});},Observable:$.Class({Subscribe:function(c0){return this.Subscribe1.call(null,c0);}}),Of:function(c1){return r.New(function(c2){return f.Of(c1(function(c3){return c2.OnNext(c3);}));});},Protect:function(c4,c5,c6){var c7,c8;try{c7={$:0,$0:c4(null)};}catch(c8){c7={$:1,$0:c8};}return c7.$==1?c6(c7.$0):c5(c7.$0);},Range:function(c9,c_){return r.New(function(c$){var da;for(da=c9;da<=c9+c_;da++){c$.OnNext(da);}return f.Of(function(){});});},Return:function(dc){return r.New(function(dd){dd.OnNext(dc);dd.OnCompleted();return f.Of(function(){});});},SelectMany:function(df){return r.New(function(dg){var dh,dj;dh={contents:function(){}};dj=i.subscribeTo(df,function(dk){var dl;dl=i.subscribeTo(dk,function(dm){return dg.OnNext(dm);});dh.contents=function(){dh.contents.call(null,null);return dl.Dispose();};return;});return f.Of(function(){dh.contents.call(null,null);return dj.Dispose();});});},Sequence:function(dp){var dq;dq=function(dr){return dr.$==1?r.CombineLatest(dr.$0,dq(dr.$1),function(ds){return function(dt){return $.New(w,{$:1,$0:ds,$1:dt});};}):r.Return($.New(w,{$:0}));};return dq(v.ofSeq(dp));},Switch:function(du){return r.New(function(dv){var dw,dx;dw={contents:0};dx={contents:{$:0}};return i.subscribeTo(du,function(dy){var dz;t.Increment(dw);if(dx.contents.$==1){dx.contents.$0.Dispose();}dz=dw.contents;dx.contents={$:1,$0:i.subscribeTo(dy,function(dA){return dz===dw.contents?dv.OnNext(dA):null;})};return;});});}},ObservableModule:{Pairwise:function(dB){return r.New(function(dC){var dD;dD={contents:{$:0}};return dB.Subscribe(s.New(function(dE){var dF;dF=dD.contents;if(dF.$==1){dC.OnNext([dF.$0,dE]);}dD.contents={$:1,$0:dE};return;},function(dG){return dC.OnError(dG);},function(){return dC.OnCompleted();}));});},Partition:function(dI,dJ){return[r.Filter(dI,dJ),r.Filter(function(dK){return!dI(dK);},dJ)];},Scan:function(dL,dM,dN){return r.New(function(dO){var dP;dP={contents:dM};return dN.Subscribe(s.New(function(dQ){return r.Protect(function(){return(dL(dP.contents))(dQ);},function(dS){dP.contents=dS;return dO.OnNext(dS);},function(dT){return dO.OnError(dT);});},function(dU){return dO.OnError(dU);},function(){return dO.OnCompleted();}));});},Split:function(dW,dX){var dY;dY=function(dZ){var d0;d0=dW(dZ);return d0.$==1?{$:1,$0:d0.$0}:{$:0};};return[r.Choose(function(d1){var d2;d2=dW(d1);return d2.$==0?{$:1,$0:d2.$0}:{$:0};},dX),r.Choose(dY,dX)];}},Observer:{New:function(d3,d4,d5){return $.New(x,{onNext:d3,onError:d4,onCompleted:d5});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(d6){return this.onError.call(null,d6);},OnNext:function(d7){return this.onNext.call(null,d7);}}),Of:function(d8){return $.New(x,{onNext:function(d9){return d8(d9);},onError:function(d_){return t.Raise(d_);},onCompleted:function(){return null;}});}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Option);c=$.Safe(a.Seq);d=$.Safe(a.Unchecked);e=$.Safe(a.Control);f=$.Safe(e.Disposable);g=$.Safe(a.IntrinsicFunctionProxy);h=$.Safe(e.FSharpEvent);i=$.Safe(a.Util);j=$.Safe(e.Event);k=$.Safe(j.Event);l=$.Safe(a.Collections);m=$.Safe(l.ResizeArray);n=$.Safe(m.ResizeArrayProxy);o=$.Safe(e.EventModule);p=$.Safe(e.HotStream);q=$.Safe(p.HotStream);r=$.Safe(e.Observable);s=$.Safe(e.Observer);t=$.Safe(a.Operators);u=$.Safe(r.Observable);v=$.Safe(a.List);w=$.Safe(v.T);return x=$.Safe(s.Observer);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;$.Define($$,{IntelliFactory:{WebSharper:{Collections:{BalancedTree:{Add:function(E,F){return c.Put(function(){return function(H){return H;};},E,F);},Branch:function(I,J,K){return{Node:I,Left:J,Right:K,Height:1+d.Max(J==null?0:J.Height,K==null?0:K.Height),Count:1+(J==null?0:J.Count)+(K==null?0:K.Count)};},Build:function(L,M,N){var O,P,Q;if(N-M+1<=0){return null;}else{O=(M+N)/2>>0;P=c.Build(L,M,O-1);Q=c.Build(L,O+1,N);return c.Branch(e.GetArray(L,O),P,Q);}},Contains:function(R,S){return!((c.Lookup(R,S))[0]==null);},Enumerate:function(T,U){var V;V=$.Tupled(function(W){var X,Y;X=W[0];Y=W[1];return X==null?Y.$==1?{$:1,$0:[Y.$0[0],[Y.$0[1],Y.$1]]}:{$:0}:T?V([X.Right,$.New(h,{$:1,$0:[X.Node,X.Left],$1:Y})]):V([X.Left,$.New(h,{$:1,$0:[X.Node,X.Right],$1:Y})]);});return f.unfold(V,[U,$.New(h,{$:0})]);},Lookup:function(Z,_0){var _1,_2,_3,_4;_1=[];_2=_0;_3=true;while(_3){if(_2==null){_3=false;}else{_4=d.Compare(Z,_2.Node);if(_4===0){_3=false;}else{if(_4===1){_1.unshift([true,_2.Node,_2.Left]);_2=_2.Right;}else{_1.unshift([false,_2.Node,_2.Right]);_2=_2.Left;}}}}return[_2,_1];},OfSeq:function(_5){var _6;_6=i.sort(f.toArray(f.distinct(_5)));return c.Build(_6,0,_6.length-1);},Put:function(_7,_8,_9){var _,ba,bb;_=c.Lookup(_8,_9);ba=_[0];bb=_[1];return ba==null?c.Rebuild(bb,c.Branch(_8,null,null)):c.Rebuild(bb,c.Branch((_7(ba.Node))(_8),ba.Left,ba.Right));},Rebuild:function(bb,bc){var bd,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo;bd=function(be){return be==null?0:be.Height;};bf=bc;for(bg=0;bg<=e.GetLength(bb)-1;bg++){bh=e.GetArray(bb,bg);if(bh[0]){bj=bh[1];bk=bh[2];if(bd(bf)>bd(bk)+1){if(bd(bf.Left)===bd(bf.Right)+1){bl=bf.Left;bi=c.Branch(bl.Node,c.Branch(bj,bk,bl.Left),c.Branch(bf.Node,bl.Right,bf.Right));}else{bi=c.Branch(bf.Node,c.Branch(bj,bk,bf.Left),bf.Right);}}else{bi=c.Branch(bj,bk,bf);}}else{bm=bh[1];bn=bh[2];if(bd(bf)>bd(bn)+1){if(bd(bf.Right)===bd(bf.Left)+1){bo=bf.Right;bi=c.Branch(bo.Node,c.Branch(bf.Node,bf.Left,bo.Left),c.Branch(bm,bo.Right,bn));}else{bi=c.Branch(bf.Node,bf.Left,c.Branch(bm,bf.Right,bn));}}else{bi=c.Branch(bm,bf,bn);}}bf=bi;}return bf;},Remove:function(bp,bq){var br,bs,bt,bu;br=c.Lookup(bp,bq);bs=br[0];bt=br[1];if(bs==null){return bq;}else{if(bs.Right==null){return c.Rebuild(bt,bs.Left);}else{if(bs.Left==null){return c.Rebuild(bt,bs.Right);}else{bu=f.toArray(f.append(c.Enumerate(false,bs.Left),c.Enumerate(false,bs.Right)));return c.Rebuild(bt,c.Build(bu,0,bu.length-1));}}}},TryFind:function(bv,bw){var bx;bx=(c.Lookup(bv,bw))[0];return bx==null?{$:0}:{$:1,$0:bx.Node};}},Dictionary:$.Class({Add:function(by,bz){var bA;bA=this.hash.call(null,by);if(this.data.hasOwnProperty(bA)){return d.FailWith("An item with the same key has already been added.");}else{this.data[bA]={K:by,V:bz};this.count=this.count+1;return;}},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(bB){return this.data.hasOwnProperty(this.hash.call(null,bB));},GetEnumerator:function(){return j.Get(k.GetFieldValues(this.data));},Remove:function(bC){var bD;bD=this.hash.call(null,bC);if(this.data.hasOwnProperty(bD)){k.Delete(this.data,bD);this.count=this.count-1;return true;}else{return false;}},get_Item:function(bE){var bF;bF=this.hash.call(null,bE);return this.data.hasOwnProperty(bF)?this.data[bF].V:l.notPresent();},set_Item:function(bG,bH){var bI;bI=this.hash.call(null,bG);if(!this.data.hasOwnProperty(bI)){this.count=this.count+1;}this.data[bI]={K:bG,V:bH};return;}},{New:function(bJ,bK){return $.New(this,m.New11(bJ,function(bL){return function(bM){return bK.Equals(bL,bM);};},function(bN){return bK.GetHashCode(bN);}));},New1:function(bO){return $.New(this,m.New11(bO,function(bP){return function(bQ){return n.Equals(bP,bQ);};},function(bR){return n.Hash(bR);}));},New11:function(bS,bT,bU){var bV,bW,bX;bV=$.New(this,{});bV.hash=bU;bV.count=0;bV.data={};bW=j.Get(bS);while(bW.MoveNext()){bX=bW.get_Current();bV.data[bV.hash.call(null,bX.K)]=bX.V;}return bV;},New12:function(bY){return $.New(this,m.New11([],function(bZ){return function(b0){return bY.Equals(bZ,b0);};},function(b1){return bY.GetHashCode(b1);}));},New2:function(){return $.New(this,m.New11([],function(b2){return function(b3){return n.Equals(b2,b3);};},function(b4){return n.Hash(b4);}));},New3:function(){return $.New(this,m.New2());},New4:function(b6,b7){return $.New(this,m.New12(b7));}}),DictionaryUtil:{notPresent:function(){return d.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(b8,b9){var b_;b_=this.tree;return o.New1(c.Add($.New(p,{Key:b8,Value:b9}),b_));},CompareTo:function(b$){return f.compareWith(function(ca){return function(cb){return d.Compare(ca,cb);};},this,b$);},ContainsKey:function(cc){var cd;cd=this.tree;return c.Contains($.New(p,{Key:cc,Value:undefined}),cd);},Equals:function(ce){return this.get_Count()===ce.get_Count()?f.forall2(function(cf){return function(cg){return n.Equals(cf,cg);};},this,ce):false;},GetEnumerator:function(){return j.Get(f.map(function(ch){return{K:ch.Key,V:ch.Value};},c.Enumerate(false,this.tree)));},GetHashCode:function(){return n.Hash(f.toArray(this));},Remove:function(ci){var cj;cj=this.tree;return o.New1(c.Remove($.New(p,{Key:ci,Value:undefined}),cj));},TryFind:function(ck){var cl;cl=this.tree;return q.map(function(cm){return cm.Value;},c.TryFind($.New(p,{Key:ck,Value:undefined}),cl));},get_Count:function(){var cn;cn=this.tree;return cn==null?0:cn.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(co){var cp;cp=this.TryFind(co);return cp.$==0?d.FailWith("The given key was not present in the dictionary."):cp.$0;},get_Tree:function(){return this.tree;}},{New:function(cq){return $.New(this,o.New1(r.fromSeq(cq)));},New1:function(cr){var cs;cs=$.New(this,{});cs.tree=cr;return cs;}}),FSharpSet:$.Class({Add:function(ct){return s.New1(c.Add(ct,this.tree));},CompareTo:function(cu){return f.compareWith(function(cv){return function(cw){return d.Compare(cv,cw);};},this,cu);},Contains:function(cx){return c.Contains(cx,this.tree);},Equals:function(cy){return this.get_Count()===cy.get_Count()?f.forall2(function(cz){return function(cA){return n.Equals(cz,cA);};},this,cy):false;},GetEnumerator:function(){return j.Get(c.Enumerate(false,this.tree));},GetHashCode:function(){return-1741749453+n.Hash(f.toArray(this));},IsProperSubsetOf:function(cB){return this.IsSubsetOf(cB)?this.get_Count()<cB.get_Count():false;},IsProperSupersetOf:function(cC){return this.IsSupersetOf(cC)?this.get_Count()>cC.get_Count():false;},IsSubsetOf:function(cD){return f.forall(function(cE){return cD.Contains(cE);},this);},IsSupersetOf:function(cF){var cH=this;return f.forall(function(cG){return cH.Contains(cG);},cF);},Remove:function(cI){return s.New1(c.Remove(cI,this.tree));},add:function(cJ){return s.New1(c.OfSeq(f.append(this,cJ)));},get_Count:function(){var cK;cK=this.tree;return cK==null?0:cK.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){return f.head(c.Enumerate(true,this.tree));},get_MinimumElement:function(){return f.head(c.Enumerate(false,this.tree));},get_Tree:function(){return this.tree;},sub:function(cL){return t.Filter(function(cM){return!cL.Contains(cM);},this);}},{New:function(cN){return $.New(this,s.New1(u.ofSeq(cN)));},New1:function(cO){var cP;cP=$.New(this,{});cP.tree=cO;return cP;}}),HashSet:{HashSet:$.Class({Add:function(cQ){return this.add(cQ);},Clear:function(){this.data=v.prototype.constructor.apply(undefined,[].concat([]));this.count=0;return;},Contains:function(cR){var cS;cS=this.data[this.hash.call(null,cR)];return cS==null?false:this.arrContains(cR,cS);},CopyTo:function(cT){var cU,cV,cW;cU=0;cV=x.concat(this.data);for(cW=0;cW<=cV.length-1;cW++){e.SetArray(cT,cW,cV[cW]);}return;},ExceptWith:function(cX){var cY;cY=j.Get(cX);while(cY.MoveNext()){this.Remove(cY.get_Current());}return;},GetEnumerator:function(){return j.Get(x.concat(this.data));},IntersectWith:function(cZ){var c0,c1,c2,c3;c0=y.New3(cZ,this.equals,this.hash);c1=x.concat(this.data);for(c2=0;c2<=c1.length-1;c2++){c3=c1[c2];if(!c0.Contains(c3)){this.Remove(c3);}}return;},IsProperSubsetOf:function(c4){var c5;c5=i.ofSeq(c4);return this.count<e.GetLength(c5)?this.IsSubsetOf(c5):false;},IsProperSupersetOf:function(c6){var c7;c7=i.ofSeq(c6);return this.count>e.GetLength(c7)?this.IsSupersetOf(c7):false;},IsSubsetOf:function(c8){var c9;c9=y.New3(c8,this.equals,this.hash);return f.forall(function(c_){return c9.Contains(c_);},x.concat(this.data));},IsSupersetOf:function(c$){var db=this;return f.forall(function(da){return db.Contains(da);},c$);},Overlaps:function(dc){var de=this;return f.exists(function(dd){return de.Contains(dd);},dc);},Remove:function(df){var dg;dg=this.data[this.hash.call(null,df)];if(dg==null){return false;}else{if(this.arrRemove(df,dg)){this.count=this.count-1;return true;}else{return false;}}},RemoveWhere:function(dh){var di,dj,dk;di=x.concat(this.data);for(dj=0;dj<=di.length-1;dj++){dk=di[dj];if(dh(dk)){this.Remove(dk);}}return;},SetEquals:function(dl){var dm;dm=y.New3(dl,this.equals,this.hash);return this.get_Count()===dm.get_Count()?this.IsSupersetOf(dm):false;},SymmetricExceptWith:function(dn){var _do,dp;_do=j.Get(dn);while(_do.MoveNext()){dp=_do.get_Current();if(this.Contains(dp)){this.Remove(dp);}else{this.Add(dp);}}return;},UnionWith:function(dq){var dr;dr=j.Get(dq);while(dr.MoveNext()){this.Add(dr.get_Current());}return;},add:function(ds){var dt,du,dv;dt=this.hash.call(null,ds);du=this.data[dt];if(du==null){this.data[dt]=[ds];this.count=this.count+1;return true;}else{if(this.arrContains(ds,du)){return false;}else{dv=[ds];du.push.apply(du,[].concat(dv));this.count=this.count+1;return true;}}},arrContains:function(dw,dx){var dy,dz,dA;dy=true;dz=0;dA=dx.length;while(dy?dz<dA:false){if((this.equals.call(null,dx[dz]))(dw)){dy=false;}else{dz=dz+1;}}return!dy;},arrRemove:function(dB,dC){var dD,dE,dF,dG,dH;dD=true;dE=0;dF=dC.length;while(dD?dE<dF:false){if((this.equals.call(null,dC[dE]))(dB)){dG=dE;dH=[];dC.splice.apply(dC,[dG,1].concat(dH));dD=false;}else{dE=dE+1;}}return!dD;},get_Count:function(){return this.count;}},{New:function(dI){return $.New(this,y.New3(f.empty(),function(dJ){return function(dK){return dI.Equals(dJ,dK);};},function(dL){return dI.GetHashCode(dL);}));},New1:function(dM,dN){return $.New(this,y.New3(dM,function(dO){return function(dP){return dN.Equals(dO,dP);};},function(dQ){return dN.GetHashCode(dQ);}));},New11:function(dR){return $.New(this,y.New3(dR,function(dS){return function(dT){return n.Equals(dS,dT);};},function(dU){return n.Hash(dU);}));},New2:function(){return $.New(this,y.New3(f.empty(),function(dV){return function(dW){return n.Equals(dV,dW);};},function(dX){return n.Hash(dX);}));},New3:function(dY,dZ,d0){var d1,d2;d1=$.New(this,{});d1.equals=dZ;d1.hash=d0;d1.data=v.prototype.constructor.apply(undefined,[].concat([]));d1.count=0;d2=j.Get(dY);while(d2.MoveNext()){d1.add(d2.get_Current());}return d1;}}),HashSetUtil:{concat:function($o){var $0=this,$this=this;var r=[];for(var k in $o){r.push.apply(r,$o[k]);};return r;}}},LinkedList:{EnumeratorProxy:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!n.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(d3){var d4;d4=$.New(this,{});d4.c=d3;return d4;}}),ListProxy:$.Class({AddAfter:function(d5,d6){var d7,d8;d7=d5.n;d8={p:d5,n:d7,v:d6};if(n.Equals(d5.n,null)){this.p=d8;}d5.n=d8;if(!n.Equals(d7,null)){d7.p=d8;}this.c=this.c+1;return d8;},AddBefore:function(d9,d_){var d$,ea;d$=d9.p;ea={p:d$,n:d9,v:d_};if(n.Equals(d9.p,null)){this.n=ea;}d9.p=ea;if(!n.Equals(d$,null)){d$.n=ea;}this.c=this.c+1;return ea;},AddFirst:function(eb){var ec;if(this.c===0){ec={p:null,n:null,v:eb};this.n=ec;this.p=this.n;this.c=1;return ec;}else{return this.AddBefore(this.n,eb);}},AddLast:function(ed){var ee;if(this.c===0){ee={p:null,n:null,v:ed};this.n=ee;this.p=this.n;this.c=1;return ee;}else{return this.AddAfter(this.p,ed);}},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(ef){var eg,eh;eg=false;eh=this.n;while(!n.Equals(eh,null)?!eg:false){if(eh.v==ef){eg=true;}else{eh=eh.n;}}return eg;},Find:function(ei){var ej,ek;ej=this.n;ek=true;while(ek?!n.Equals(ej,null):false){if(ej.v==ei){ek=false;}else{ej=ej.n;}}return ek?null:ej;},FindLast:function(el){var em,en;em=this.p;en=true;while(en?!n.Equals(em,null):false){if(em.v==el){en=false;}else{em=em.p;}}return en?null:em;},GetEnumerator:function(){return A.New(this);},Remove:function(eo){var ep,eq;ep=eo.p;eq=eo.n;if(n.Equals(ep,null)){this.n=eq;}else{ep.n=eq;}if(n.Equals(eq,null)){this.p=ep;}else{eq.p=ep;}this.c=this.c-1;return;},Remove1:function(er){var es;es=this.Find(er);if(n.Equals(es,null)){return false;}else{this.Remove(es);return true;}},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,B.New1(f.empty()));},New1:function(et){var eu,ev,ew;eu=$.New(this,{});eu.c=0;eu.n=null;eu.p=null;ev=j.Get(et);if(ev.MoveNext()){eu.n={p:null,n:null,v:ev.get_Current()};eu.p=eu.n;eu.c=1;}while(ev.MoveNext()){ew={p:eu.p,n:null,v:ev.get_Current()};eu.p.n=ew;eu.p=ew;eu.c=eu.c+1;}return eu;}})},MapModule:{Exists:function(ex,ey){return f.exists(function(ez){return(ex(ez.K))(ez.V);},ey);},Filter:function(eA,eB){var eC;eC=f.toArray(f.filter(function(eD){return(eA(eD.Key))(eD.Value);},c.Enumerate(false,eB.get_Tree())));return o.New1(c.Build(eC,0,eC.length-1));},FindKey:function(eE,eF){return f.pick(function(eG){return(eE(eG.K))(eG.V)?{$:1,$0:eG.K}:{$:0};},eF);},Fold:function(eH,eI,eJ){return f.fold(function(eK){return function(eL){return((eH(eK))(eL.Key))(eL.Value);};},eI,c.Enumerate(false,eJ.get_Tree()));},FoldBack:function(eM,eN,eO){return f.fold(function(eP){return function(eQ){return((eM(eQ.Key))(eQ.Value))(eP);};},eO,c.Enumerate(true,eN.get_Tree()));},ForAll:function(eR,eS){return f.forall(function(eT){return(eR(eT.K))(eT.V);},eS);},Iterate:function(eU,eV){return f.iter(function(eW){return(eU(eW.K))(eW.V);},eV);},Map:function(eX,eY){return o.New1(c.OfSeq(f.map(function(eZ){return $.New(p,{Key:eZ.Key,Value:(eX(eZ.Key))(eZ.Value)});},c.Enumerate(false,eY.get_Tree()))));},OfArray:function(e0){return o.New1(c.OfSeq(f.map($.Tupled(function(e1){return $.New(p,{Key:e1[0],Value:e1[1]});}),e0)));},Partition:function(e2,e3){var e4,e6,e7;e4=i.partition(function(e5){return(e2(e5.Key))(e5.Value);},f.toArray(c.Enumerate(false,e3.get_Tree())));e6=e4[1];e7=e4[0];return[o.New1(c.Build(e7,0,e7.length-1)),o.New1(c.Build(e6,0,e6.length-1))];},Pick:function(e8,e9){return f.pick(function(e_){return(e8(e_.K))(e_.V);},e9);},ToSeq:function(e$){return f.map(function(fa){return[fa.Key,fa.Value];},c.Enumerate(false,e$.get_Tree()));},TryFind:function(fb,fc){return fc.TryFind(fb);},TryFindKey:function(fd,fe){return f.tryPick(function(ff){return(fd(ff.K))(ff.V)?{$:1,$0:ff.K}:{$:0};},fe);},TryPick:function(fg,fh){return f.tryPick(function(fi){return(fg(fi.K))(fi.V);},fh);}},MapUtil:{fromSeq:function(fj){var fk;fk=f.toArray(f.delay(function(){return f.collect($.Tupled(function(fm){return[$.New(p,{Key:fm[0],Value:fm[1]})];}),f.distinctBy($.Tupled(function(fn){return fn[0];}),fj));}));i.sortInPlace(fk);return c.Build(fk,0,fk.length-1);}},Pair:$.Class({CompareTo:function(fo){return d.Compare(this.Key,fo.Key);},Equals:function(fp){return n.Equals(this.Key,fp.Key);},GetHashCode:function(){return n.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(fq){return this.arr.push(fq);},AddRange:function(fr){var ft=this;return f.iter(function(fs){return ft.Add(fs);},fr);},Clear:function(){C.splice(this.arr,0,e.GetLength(this.arr),[]);},CopyTo:function(fu){return this.CopyTo1(fu,0);},CopyTo1:function(fv,fw){return this.CopyTo2(0,fv,fw,this.get_Count());},CopyTo2:function(fx,fy,fz,fA){return i.blit(this.arr,fx,fy,fz,fA);},GetEnumerator:function(){return j.Get(this.arr);},GetRange:function(fB,fC){return D.New(i.sub(this.arr,fB,fC));},Insert:function(fD,fE){C.splice(this.arr,fD,0,[fE]);},InsertRange:function(fF,fG){C.splice(this.arr,fF,0,f.toArray(fG));},RemoveAt:function(fH){C.splice(this.arr,fH,1,[]);},RemoveRange:function(fI,fJ){C.splice(this.arr,fI,fJ,[]);},Reverse:function(){return this.arr.reverse();},Reverse1:function(fK,fL){return i.reverse(this.arr,fK,fL);},ToArray:function(){return this.arr.slice();},get_Count:function(){return e.GetLength(this.arr);},get_Item:function(fM){return e.GetArray(this.arr,fM);},set_Item:function(fN,fO){return e.SetArray(this.arr,fN,fO);}},{New:function(fP){var fQ;fQ=$.New(this,{});fQ.arr=fP;return fQ;},New1:function(){return $.New(this,D.New([]));},New11:function(fR){return $.New(this,D.New(f.toArray(fR)));},New2:function(){return $.New(this,D.New([]));}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(fT,fU){var fV;fV=f.toArray(f.filter(fT,fU));return s.New1(c.Build(fV,0,fV.length-1));},FoldBack:function(fW,fX,fY){return f.fold(function(fZ){return function(f0){return(fW(f0))(fZ);};},fY,c.Enumerate(true,fX.get_Tree()));},Partition:function(f1,f2){var f3,f4;f3=i.partition(f1,f.toArray(f2));f4=f3[1];return[s.New1(c.OfSeq(f3[0])),s.New1(c.OfSeq(f4))];}},SetUtil:{ofSeq:function(f5){var f6;f6=f.toArray(f5);i.sortInPlace(f6);return c.Build(f6,0,f6.length-1);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Collections);c=$.Safe(b.BalancedTree);d=$.Safe(a.Operators);e=$.Safe(a.IntrinsicFunctionProxy);f=$.Safe(a.Seq);g=$.Safe(a.List);h=$.Safe(g.T);i=$.Safe(a.Arrays);j=$.Safe(a.Enumerator);k=$.Safe(a.JavaScript);l=$.Safe(b.DictionaryUtil);m=$.Safe(b.Dictionary);n=$.Safe(a.Unchecked);o=$.Safe(b.FSharpMap);p=$.Safe(b.Pair);q=$.Safe(a.Option);r=$.Safe(b.MapUtil);s=$.Safe(b.FSharpSet);t=$.Safe(b.SetModule);u=$.Safe(b.SetUtil);v=$.Safe($$.Array);w=$.Safe(b.HashSet);x=$.Safe(w.HashSetUtil);y=$.Safe(w.HashSet);z=$.Safe(b.LinkedList);A=$.Safe(z.EnumeratorProxy);B=$.Safe(z.ListProxy);C=$.Safe(b.ResizeArray);return D=$.Safe(C.ResizeArrayProxy);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;$.Define($$,{IntelliFactory:{Reactive:{Disposable:$.Class({Dispose:function(){return this.Dispose1.call(null,null);}},{New:function(r){return $.New(b,{Dispose1:r});}}),HotStream:$.Class({Subscribe:function(s){if(this.Latest.contents.$==1){s.OnNext(this.Latest.contents.$0);}return this.Event.event.Subscribe(s);},Trigger:function(t){this.Latest.contents={$:1,$0:t};return this.Event.event.Trigger(t);}},{New:function(u){return $.New(c,{Latest:{contents:{$:1,$0:u}},Event:f.New()});},New1:function(){return $.New(c,{Latest:{contents:{$:0}},Event:f.New()});}}),Observable:$.Class({Subscribe:function(v){return this.OnSubscribe.call(null,v);},SubscribeWith:function(w,x){return this.OnSubscribe.call(null,g.New(w,x));}},{New:function(y){return $.New(h,{OnSubscribe:y});}}),Observer:$.Class({OnCompleted:function(){return this.OnCompleted1.call(null,null);},OnError:function(){return null;},OnNext:function(A){return this.OnNext1.call(null,A);}},{New:function(B,C){return $.New(g,{OnNext1:B,OnCompleted1:C});}}),Reactive:{Aggregate:function(D,E,F){return h.New(function(G){var H;H={contents:E};return i.subscribeTo(D,function(I){H.contents=(F(H.contents))(I);return G.OnNext(H.contents);});});},Choose:function(J,K){return h.New(function(L){return i.subscribeTo(J,function(M){var N;N=K(M);return N.$==0?null:L.OnNext(N.$0);});});},CollectLatest:function(O){return h.New(function(P){var Q,R;Q=k.New2();R={contents:0};return i.subscribeTo(O,function(S){var T;l.Increment(R);T=R.contents;i.subscribeTo(S,function(U){Q.set_Item(T,U);return P.OnNext(m.delay(function(){return m.map(function(W){return W.V;},Q);}));});return;});});},CombineLatest:function(X,Y,Z){return h.New(function(_0){var _1,_2,_3,_7,_,bb,bc;_1={contents:{$:0}};_2={contents:{$:0}};_3=function(){var _5,_6;_5=[_1.contents,_2.contents];if(_5[0].$==1){if(_5[1].$==1){_6=_5[1].$0;return _0.OnNext((Z(_5[0].$0))(_6));}else{return null;}}else{return null;}};_7=g.New(function(_8){_1.contents={$:1,$0:_8};return _3(null);},function(){});_=g.New(function(ba){_2.contents={$:1,$0:ba};return _3(null);},function(){});bb=X.Subscribe(_7);bc=Y.Subscribe(_);return b.New(function(){bb.Dispose();return bc.Dispose();});});},Concat:function(be,bf){return h.New(function(bg){var bh,bi;bh={contents:{$:0}};bi=be.Subscribe(g.New(function(bj){return bg.OnNext(bj);},function(){bh.contents={$:1,$0:bf.Subscribe(bg)};}));return b.New(function(){if(bh.contents.$==1){bh.contents.$0.Dispose();}return bi.Dispose();});});},Default:$.Field(function(){return o.New();}),Drop:function(bm,bn){return h.New(function(bo){var bp;bp={contents:0};return i.subscribeTo(bm,function(bq){l.Increment(bp);return bp.contents>bn?bo.OnNext(bq):null;});});},Heat:function(br){var bs;bs=c.New1();i.subscribeTo(br,function(bt){return bs.Trigger(bt);});return bs;},Merge:function(bu,bv){return h.New(function(bw){var bx,by,bz,bC;bx={contents:false};by={contents:false};bz=bu.Subscribe(g.New(function(bA){return bw.OnNext(bA);},function(){bx.contents=true;return(bx.contents?by.contents:false)?bw.OnCompleted():null;}));bC=bv.Subscribe(g.New(function(bD){return bw.OnNext(bD);},function(){by.contents=true;return(bx.contents?by.contents:false)?bw.OnCompleted():null;}));return b.New(function(){bz.Dispose();return bC.Dispose();});});},Never:function(){return h.New(function(){return b.New(function(){});});},Range:function(bI,bJ){return h.New(function(bK){var bL;for(bL=bI;bL<=bI+bJ;bL++){bK.OnNext(bL);}return b.New(function(){});});},Reactive:$.Class({Aggregate:function(bN,bO,bP){return n.Aggregate(bN,bO,bP);},Choose:function(bQ,bR){return n.Choose(bQ,bR);},CollectLatest:function(bS){return n.CollectLatest(bS);},CombineLatest:function(bT,bU,bV){return n.CombineLatest(bT,bU,bV);},Concat:function(bW,bX){return n.Concat(bW,bX);},Drop:function(bY,bZ){return n.Drop(bY,bZ);},Heat:function(b0){return n.Heat(b0);},Merge:function(b1,b2){return n.Merge(b1,b2);},Never:function(){return n.Never();},Return:function(b3){return n.Return(b3);},Select:function(b4,b5){return n.Select(b4,b5);},SelectMany:function(b6){return n.SelectMany(b6);},Sequence:function(b7){return n.Sequence(b7);},Switch:function(b8){return n.Switch(b8);},Where:function(b9,b_){return n.Where(b9,b_);}},{New:function(){return $.New(this,{});}}),Return:function(b$){return h.New(function(ca){ca.OnNext(b$);ca.OnCompleted();return b.New(function(){});});},Select:function(cc,cd){return h.New(function(ce){return i.subscribeTo(cc,function(cf){return ce.OnNext(cd(cf));});});},SelectMany:function(cg){return h.New(function(ch){var ci,ck;ci={contents:function(){}};ck=i.subscribeTo(cg,function(cl){var cm;cm=i.subscribeTo(cl,function(cn){return ch.OnNext(cn);});ci.contents=function(){ci.contents.call(null,null);return cm.Dispose();};return;});return b.New(function(){ci.contents.call(null,null);return ck.Dispose();});});},Sequence:function(cq){var cr;cr=function(cs){return cs.$==1?n.CombineLatest(cs.$0,cr(cs.$1),function(ct){return function(cu){return $.New(q,{$:1,$0:ct,$1:cu});};}):n.Return($.New(q,{$:0}));};return n.Select(cr(p.ofSeq(cq)),function(cv){return cv;});},Switch:function(cw){return h.New(function(cx){var cy,cz;cy={contents:0};cz={contents:{$:0}};return i.subscribeTo(cw,function(cA){var cB;l.Increment(cy);if(cz.contents.$==1){cz.contents.$0.Dispose();}cB=cy.contents;cz.contents={$:1,$0:i.subscribeTo(cA,function(cC){return cB===cy.contents?cx.OnNext(cC):null;})};return;});});},Where:function(cD,cE){return h.New(function(cF){return i.subscribeTo(cD,function(cG){return cE(cG)?cF.OnNext(cG):null;});});}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.Reactive);b=$.Safe(a.Disposable);c=$.Safe(a.HotStream);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Control);f=$.Safe(e.FSharpEvent);g=$.Safe(a.Observer);h=$.Safe(a.Observable);i=$.Safe(d.Util);j=$.Safe(d.Collections);k=$.Safe(j.Dictionary);l=$.Safe(d.Operators);m=$.Safe(d.Seq);n=$.Safe(a.Reactive);o=$.Safe(n.Reactive);p=$.Safe(d.List);return q=$.Safe(p.T);});$.OnLoad(function(){n.Default();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{IntelliFactory:{Formlet:{Base:{D:$.Class({Dispose:function(){return null;}},{New:function(){return $.New(this,{});}}),Form:$.Class({Dispose:function(){return this.Dispose1.call(null,null);}}),Formlet:$.Class({Build:function(){return this.Build1.call(null,null);},MapResult:function(q){var t=this;return $.New(c,{Layout:this.Layout,Build1:function(){var s;s=t.Build1.call(null,null);t.Utils.Reactive.Select(s.State,function(u){return q(u);});return $.New(d,{Body:s.Body,Dispose1:s.Dispose1,Notify:s.Notify,State:s.State});},Utils:t.Utils});},get_Layout:function(){return this.Layout;}}),FormletBuilder:$.Class({Bind:function(v,w){return this.F.Bind(v,w);},Delay:function(x){return this.F.Delay(x);},Return:function(y){return this.F.Return(y);},ReturnFrom:function(z){return z;}},{New:function(A){var B;B=$.New(this,{});B.F=A;return B;}}),FormletProvider:$.Class({AppendLayout:function(C,D){return this.WithLayout(C,this.ApplyLayout(D));},Apply:function(E,F){var I=this;return this.New(function(){var H,J,K,L;H=I.BuildForm(E);J=I.BuildForm(F);K=I.U.Reactive;L=H.Body;return $.New(d,{Body:I.U.Reactive.Merge(K.Select(L,function(M){return $.New(f,{$:1,$0:M});}),I.U.Reactive.Select(J.Body,function(N){return $.New(f,{$:2,$0:N});})),Dispose1:function(){J.Dispose1.call(null,null);return H.Dispose1.call(null,null);},Notify:function(P){J.Notify.call(null,P);return H.Notify.call(null,P);},State:I.U.Reactive.CombineLatest(J.State,H.State,function(Q){return function(R){return g.Apply(R,Q);};})});});},ApplyLayout:function(S){var W=this;return this.New(function(){var U,V;U=S.Build();V=S.get_Layout().Apply.call(null,U.Body);return $.New(d,{Body:V.$==0?U.Body:W.U.Reactive.Return(e.Set(V.$0[0])),Dispose1:U.Dispose1,Notify:U.Notify,State:U.State});});},Bind:function(X,Y){return this.Join(this.Map(Y,X));},BindWith:function(Z,_0,_1){var _4=this;return this.New(function(){var _3,_5,_6,_7,_9,_,ba,bc,bd,be,bf;_3=_4.Bind(_0,_1);_5=_3.Build();_6=_4.U.Reactive;_7=_6.Where(_5.Body,function(_8){return _8.$==1?true:false;});_9=_4.U.DefaultLayout.Apply.call(null,_7);_=_4.U.Reactive;ba=_.Where(_5.Body,function(bb){return bb.$==2?true:false;});bc=_4.U.DefaultLayout.Apply.call(null,ba);bd=[_9,bc];if(bd[0].$==1){if(bd[1].$==1){bf=bd[1].$0[0];be=_4.U.Reactive.Return(e.Set((Z(bd[0].$0[0]))(bf)));}else{be=_4.U.Reactive.Never();}}else{be=_4.U.Reactive.Never();}return $.New(d,{Body:be,Dispose1:_5.Dispose1,Notify:_5.Notify,State:_5.State});});},BuildForm:function(bf){var bg,bh,bi;bg=bf.Build();bh=bf.get_Layout().Apply.call(null,bg.Body);if(bh.$==1){bi=bh.$0[1];return $.New(d,{Body:this.U.Reactive.Return(e.Set(bh.$0[0])),Dispose1:function(){bg.Dispose1.call(null,null);return bi.Dispose();},Notify:bg.Notify,State:bg.State});}else{return bg;}},Delay:function(bk){var bl,bn=this;bl=function(){return bn.BuildForm(bk(null));};return $.New(c,{Layout:bn.L.Delay(function(){return bk(null).get_Layout();}),Build1:bl,Utils:bn.U});},Deletable:function(bp){var br=this;return this.Replace(bp,function(bq){return bq.$==1?br.Return({$:1,$0:bq.$0}):br.ReturnEmpty({$:0});});},Empty:function(){var bt=this;return this.New(function(){return $.New(d,{Body:bt.U.Reactive.Return(e.Delete()),Dispose1:function(){},Notify:function(){},State:bt.U.Reactive.Never()});});},EmptyForm:function(){return $.New(d,{Body:this.U.Reactive.Never(),Dispose1:function(){},Notify:function(){},State:this.U.Reactive.Never()});},Fail:function(by){return $.New(d,{Body:this.U.Reactive.Never(),Dispose1:function(bz){return bz;},Notify:function(){},State:this.U.Reactive.Return($.New(g,{$:1,$0:by}))});},FailWith:function(bB){var bD=this;return this.New(function(){return bD.Fail(bB);});},FlipBody:function(bE){var bF,bI=this;bF=this.New(function(){var bH;bH=bE.Build();return $.New(d,{Body:bI.U.Reactive.Select(bH.Body,function(bJ){return e.FlipEdit(bJ);}),Dispose1:bH.Dispose1,Notify:bH.Notify,State:bH.State});});return bI.WithLayout(bE.get_Layout(),bF);},FromState:function(bK){var bM=this;return this.New(function(){return $.New(d,{Body:bM.U.Reactive.Never(),Dispose1:function(){},Notify:function(){},State:bK});});},InitWith:function(bP,bQ){var bR,bV=this;bR=this.New(function(){var bT,bU;bT=bQ.Build();bU=bT.State;return $.New(d,{Body:bT.Body,Dispose1:bT.Dispose1,Notify:bT.Notify,State:bV.U.Reactive.Concat(bV.U.Reactive.Return($.New(g,{$:0,$0:bP})),bU)});});return bV.WithLayout(bQ.get_Layout(),bR);},InitWithFailure:function(bW){var bX,b1=this;bX=this.New(function(){var bZ,b0;bZ=bW.Build();b0=bZ.State;return $.New(d,{Body:bZ.Body,Dispose1:bZ.Dispose1,Notify:bZ.Notify,State:b1.U.Reactive.Concat(b1.U.Reactive.Return($.New(g,{$:1,$0:$.New(j,{$:0})})),b0)});});return b1.WithLayout(bW.get_Layout(),bX);},Join:function(b2){var b5=this;return this.New(function(){var b4,b6,b7,b9,b_,b$,ca,cc;b4=b5.BuildForm(b2);b6=b5.U.Reactive;b7=b6.Select(b4.State,function(b8){return b8.$==1?b5.Fail(b8.$0):b5.BuildForm(b8.$0);});b9=b5.U.Reactive;b_=b9.Heat(b7);b$=b5.U.Reactive;ca=function(cb){return $.New(f,{$:2,$0:cb});};cc=b5.U.Reactive.Select(b5.U.Reactive.Switch(b$.Select(b_,function(cd){var ce;ce=cd.Body;return b5.U.Reactive.Concat(b5.U.Reactive.Return(e.Delete()),ce);})),ca);return $.New(d,{Body:b5.U.Reactive.Merge(b5.U.Reactive.Select(b4.Body,function(cf){return $.New(f,{$:1,$0:cf});}),cc),Dispose1:function(){return b4.Dispose1.call(null,null);},Notify:function(ch){return b4.Notify.call(null,ch);},State:b5.U.Reactive.Switch(b5.U.Reactive.Select(b_,function(ci){return ci.State;}))});});},LiftResult:function(cj){return this.MapResult(function(ck){return $.New(g,{$:0,$0:ck});},cj);},Map:function(cl,cm){return this.MapResult(function(cn){return g.Map(cl,cn);},cm);},MapBody:function(co,cp){var ct=this;return this.WithLayout({Apply:function(cq){var cr,cs,cu,cv;cr=cp.get_Layout().Apply.call(null,cq);if(cr.$==0){cs=ct.U.DefaultLayout.Apply.call(null,cq);if(cs.$==0){return{$:0};}else{cu=cs.$0[1];return{$:1,$0:[co(cs.$0[0]),cu]};}}else{cv=cr.$0[1];return{$:1,$0:[co(cr.$0[0]),cv]};}}},cp);},MapResult:function(cw,cx){var cy,cB=this;cy=function(){var cA;cA=cx.Build();return $.New(d,{Body:cA.Body,Dispose1:cA.Dispose1,Notify:cA.Notify,State:cB.U.Reactive.Select(cA.State,function(cC){return cw(cC);})});};return $.New(c,{Layout:cx.get_Layout(),Build1:cy,Utils:cB.U});},Never:function(){var cE=this;return this.New(function(){return $.New(d,{Body:cE.U.Reactive.Never(),Dispose1:function(){},Notify:function(){},State:cE.U.Reactive.Never()});});},New:function(cH){return $.New(c,{Layout:this.L.Default(),Build1:cH,Utils:this.U});},Replace:function(cI,cJ){return this.Switch(this.Map(function(cK){return cJ(cK);},cI));},ReplaceFirstWithFailure:function(cL){var cM,cQ=this;cM=this.New(function(){var cO,cP;cO=cL.Build();cP=cQ.U.Reactive.Drop(cO.State,1);return $.New(d,{Body:cO.Body,Dispose1:cO.Dispose1,Notify:cO.Notify,State:cQ.U.Reactive.Concat(cQ.U.Reactive.Return($.New(g,{$:1,$0:$.New(j,{$:0})})),cP)});});return cQ.WithLayout(cL.get_Layout(),cM);},Return:function(cR){var cT=this;return this.New(function(){return $.New(d,{Body:cT.U.Reactive.Never(),Dispose1:function(cU){return cU;},Notify:function(){},State:cT.U.Reactive.Return($.New(g,{$:0,$0:cR}))});});},ReturnEmpty:function(cW){var cY=this;return this.New(function(){return $.New(d,{Body:cY.U.Reactive.Return(e.Delete()),Dispose1:function(cZ){return cZ;},Notify:function(){},State:cY.U.Reactive.Return($.New(g,{$:0,$0:cW}))});});},SelectMany:function(c1){var c4=this;return this.New(function(){var c3,c5,c6,c8,c9,c_,c$,da,dc,de;c3=c4.BuildForm(c1);c5=c4.U.Reactive;c6=c5.Choose(c3.State,function(c7){return c7.$==1?{$:0}:{$:1,$0:c4.BuildForm(c7.$0)};});c8=c4.U.Reactive;c9=c8.Heat(c6);c_=c4.U.Reactive;c$=c3.Body;da=c_.Select(c$,function(db){return $.New(f,{$:1,$0:db});});dc={contents:function(dd){return $.New(f,{$:1,$0:dd});}};de=function(df){return g.Sequence(df);};return $.New(d,{Body:c4.U.Reactive.Merge(da,c4.U.Reactive.SelectMany(c4.U.Reactive.Select(c9,function(dg){var dh;dh=dc.contents;dc.contents=function(di){return $.New(f,{$:2,$0:dh(di)});};return c4.U.Reactive.Select(dg.Body,dc.contents);}))),Dispose1:function(){return c3.Dispose1.call(null,null);},Notify:function(dk){return c3.Notify.call(null,dk);},State:c4.U.Reactive.Select(c4.U.Reactive.CollectLatest(c4.U.Reactive.Select(c9,function(dl){return dl.State;})),de)});});},Sequence:function(dm){var dn,_do,dp,dq,dt;dn=i.ofSeq(dm);if(dn.$==1){_do=dn.$1;dp=dn.$0;dq=this.Return(function(dr){return function(ds){return $.New(j,{$:1,$0:dr,$1:ds});};});dt=this.Sequence(_do);return this.Apply(this.Apply(dq,dp),dt);}else{return this.Return($.New(j,{$:0}));}},Switch:function(du){var dx=this;return this.New(function(){var dw,dy,dz,dA,dB,dD,dE;dw=dx.WithLayoutOrDefault(du);dy=dx.ApplyLayout(dw);dz=dx.BuildForm(dy);dA=dx.U.Reactive;dB=dA.Choose(dz.State,function(dC){return dC.$==1?{$:0}:{$:1,$0:dx.BuildForm(dC.$0)};});dD=dx.U.Reactive;dE=dD.Heat(dB);return $.New(d,{Body:dx.U.Reactive.Concat(dz.Body,dx.U.Reactive.Switch(dx.U.Reactive.Select(dE,function(dF){return dF.Body;}))),Dispose1:function(){return dz.Dispose1.call(null,null);},Notify:function(dH){return dz.Notify.call(null,dH);},State:dx.U.Reactive.Switch(dx.U.Reactive.Select(dE,function(dI){return dI.State;}))});});},WithCancelation:function(dJ,dK){var dL,dP,dQ;dL=this.Return(function(dM){return function(dN){var dO;dO=[dM,dN];return dO[1].$==0?$.New(g,{$:0,$0:{$:0}}):dO[0].$==1?$.New(g,{$:1,$0:dO[0].$0}):$.New(g,{$:0,$0:{$:1,$0:dO[0].$0}});};});dP=this.LiftResult(dJ);dQ=this.LiftResult(dK);return this.MapResult(function(dR){return g.Join(dR);},this.Apply(this.Apply(dL,dP),dQ));},WithLayout:function(dS,dT){return $.New(c,{Layout:dS,Build1:function(){return dT.Build();},Utils:this.U});},WithLayoutOrDefault:function(dV){return this.MapBody(function(dW){return dW;},dV);},WithNotification:function(dX,dY){var dZ,d2=this;dZ=this.New(function(){var d1;d1=d2.BuildForm(dY);return $.New(d,{Body:d1.Body,Dispose1:d1.Dispose1,Notify:function(d3){d1.Notify.call(null,d3);return dX(d3);},State:d1.State});});return d2.WithLayout(dY.get_Layout(),dZ);},WithNotificationChannel:function(d4){var d5,d_=this;d5=this.New(function(){var d7,d8;d7=d4.Build();d8=function(d9){return[d9,d7.Notify];};return $.New(d,{Body:d7.Body,Dispose1:d7.Dispose1,Notify:d7.Notify,State:d_.U.Reactive.Select(d7.State,function(d$){return g.Map(d8,d$);})});});return d_.WithLayout(d4.get_Layout(),d5);}},{New:function(ea){var eb;eb=$.New(this,{});eb.U=ea;eb.L=k.New({Reactive:eb.U.Reactive});return eb;}}),LayoutUtils:$.Class({Default:function(){return{Apply:function(){return{$:0};}};},Delay:function(ed){return{Apply:function(ee){return ed(null).Apply.call(null,ee);}};},New:function(ef){return{Apply:function(eg){var eh,ei;eh=ef(null);ei={contents:$.New(l,{$:0})};return{$:1,$0:[eh.Body,m.subscribeTo(eg,function(ej){var ek,el;ek=e.ReplacedTree(ej,ei.contents);ei.contents=e.Apply(ej,ei.contents);el=(e.Range(ej,ei.contents))[0];eh.Remove.call(null,ek.get_Sequence());return n.iteri(function(em){return function(en){return(eh.Insert.call(null,el+em))(en);};},ej);})]};}};}},{New:function(){return $.New(this,{});}}),Result:$.Class({},{Apply:function(ep,eq){var er;er=[ep,eq];return er[0].$==1?er[1].$==1?$.New(g,{$:1,$0:i.append(er[0].$0,er[1].$0)}):$.New(g,{$:1,$0:er[0].$0}):er[1].$==1?$.New(g,{$:1,$0:er[1].$0}):$.New(g,{$:0,$0:er[0].$0.call(null,er[1].$0)});},Join:function(es){return es.$==1?$.New(g,{$:1,$0:es.$0}):es.$0;},Map:function(et,eu){return eu.$==1?$.New(g,{$:1,$0:eu.$0}):$.New(g,{$:0,$0:et(eu.$0)});},OfOption:function(ev){return ev.$==0?$.New(g,{$:1,$0:$.New(j,{$:0})}):$.New(g,{$:0,$0:ev.$0});},Sequence:function(ew){return n.fold(function(ex){return function(ey){var ez,eA;if(ex.$==1){ez=ex.$0;return ey.$==1?$.New(g,{$:1,$0:i.append(ez,ey.$0)}):$.New(g,{$:1,$0:ez});}else{eA=ex.$0;return ey.$==1?$.New(g,{$:1,$0:ey.$0}):$.New(g,{$:0,$0:i.append(eA,i.ofArray([ey.$0]))});}};},$.New(g,{$:0,$0:$.New(j,{$:0})}),ew);}}),Tree:{Apply:function(eB,eC){var eD;eD=function(eE,eF){var eG,eH,eI;if(eE.$==1){eG=eE.$0;if(eF.$==2){eH=eF.$1;return $.New(l,{$:2,$0:eD(eG,eF.$0),$1:eH});}else{return eD($.New(f,{$:1,$0:eG}),$.New(l,{$:2,$0:$.New(l,{$:0}),$1:eF}));}}else{if(eE.$==2){eI=eE.$0;return eF.$==2?$.New(l,{$:2,$0:eF.$0,$1:eD(eI,eF.$1)}):eD($.New(f,{$:2,$0:eI}),$.New(l,{$:2,$0:eF,$1:$.New(l,{$:0})}));}else{return eE.$0;}}};return eD(eB,eC);},Count:function(eJ){var eK,eL,eM,eN,eO,eP,eQ,eR,eS;eK=[];eL=$.New(j,{$:0});eK[3]=eJ;eK[2]=eL;eK[1]=0;eK[0]=1;while(eK[0]){if(eK[3].$==2){eM=eK[3].$0;eN=$.New(j,{$:1,$0:eK[3].$1,$1:eK[2]});eO=eK[1];eK[3]=eM;eK[2]=eN;eK[1]=eO;eK[0]=1;}else{eP=eK[3];eQ=eP.$==0?0:1;if(eK[2].$==1){eR=eK[2].$1;eS=eK[1]+eQ;eK[3]=eK[2].$0;eK[2]=eR;eK[1]=eS;eK[0]=1;}else{eK[0]=0;eK[1]=eK[1]+eQ;}}}return eK[1];},DeepFlipEdit:function(eT){return eT.$==1?$.New(f,{$:2,$0:e.DeepFlipEdit(eT.$0)}):eT.$==2?$.New(f,{$:1,$0:e.DeepFlipEdit(eT.$0)}):$.New(f,{$:0,$0:eT.$0});},Delete:function(){return $.New(f,{$:0,$0:$.New(l,{$:0})});},Edit:$.Class({GetEnumerator:function(){return o.Get(this.get_Sequence());},GetEnumerator1:function(){return o.Get(this.get_Sequence());},get_Sequence:function(){return this.$==1?this.$0.get_Sequence():this.$==2?this.$0.get_Sequence():this.$0.get_Sequence();}}),FlipEdit:function(eU){return eU.$==1?$.New(f,{$:2,$0:eU.$0}):eU.$==2?$.New(f,{$:1,$0:eU.$0}):$.New(f,{$:0,$0:eU.$0});},FromSequence:function(eV){return n.fold(function(eW){return function(eX){return $.New(l,{$:2,$0:eW,$1:$.New(l,{$:1,$0:eX})});};},$.New(l,{$:0}),eV);},Range:function(eY,eZ){var e0,e1,e2,e3,e4,e5,e6,e7,e8;e0=[];e0[3]=0;e0[2]=eZ;e0[1]=eY;e0[0]=1;while(e0[0]){if(e0[1].$==1){e1=e0[1].$0;if(e0[2].$==2){e2=e0[2].$0;e0[3]=e0[3];e0[2]=e2;e0[1]=e1;e0[0]=1;}else{e3=e0[3];e4=$.New(l,{$:0});e0[3]=e3;e0[2]=e4;e0[1]=e1;e0[0]=1;}}else{if(e0[1].$==2){e5=e0[1].$0;if(e0[2].$==2){e6=e0[2].$1;e0[3]=e0[3]+e.Count(e0[2].$0);e0[2]=e6;e0[1]=e5;e0[0]=1;}else{e7=e0[3]+e.Count(e0[2]);e8=$.New(l,{$:0});e0[3]=e7;e0[2]=e8;e0[1]=e5;e0[0]=1;}}else{e0[0]=0;e0[1]=[e0[3],e.Count(e0[2])];}}}return e0[1];},ReplacedTree:function(e9,e_){var e$,fa;if(e9.$==1){e$=e9.$0;return e_.$==2?e.ReplacedTree(e$,e_.$0):e.ReplacedTree($.New(f,{$:1,$0:e$}),$.New(l,{$:2,$0:$.New(l,{$:0}),$1:e_}));}else{if(e9.$==2){fa=e9.$0;return e_.$==2?e.ReplacedTree(fa,e_.$1):e.ReplacedTree($.New(f,{$:2,$0:fa}),$.New(l,{$:2,$0:e_,$1:$.New(l,{$:0})}));}else{return e_;}}},Set:function(fb){return $.New(f,{$:0,$0:$.New(l,{$:1,$0:fb})});},ShowEdit:function(fc){var fd;fd=function(fe){return fe.$==1?"Left > "+fd(fe.$0):fe.$==2?"Right > "+fd(fe.$0):"Replace";};return fd(fc);},Transform:function(ff,fg){return fg.$==1?$.New(f,{$:1,$0:e.Transform(ff,fg.$0)}):fg.$==2?$.New(f,{$:2,$0:e.Transform(ff,fg.$0)}):$.New(f,{$:0,$0:ff(fg.$0)});},Tree:$.Class({GetEnumerator:function(){return o.Get(this.get_Sequence());},GetEnumerator1:function(){return o.Get(this.get_Sequence());},Map:function(fh){var fi;if(this.$==1){return $.New(l,{$:1,$0:fh(this.$0)});}else{if(this.$==2){fi=this.$1;return $.New(l,{$:2,$0:this.$0.Map(fh),$1:fi.Map(fh)});}else{return $.New(l,{$:0});}}},get_Sequence:function(){var fj;if(this.$==1){return[this.$0];}else{if(this.$==2){fj=this.$1;return n.append(this.$0.get_Sequence(),fj.get_Sequence());}else{return n.empty();}}}})},Validator:$.Class({Is:function(fk,fl,fm){return this.Validate(fk,fl,fm);},IsEmail:function(fn){var fp=this;return function(fo){return fp.IsRegexMatch("^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",fn,fo);};},IsEqual:function(fq,fr,fs){return this.Validate(function(ft){return p.Equals(ft,fq);},fr,fs);},IsFloat:function(fu){var fw=this;return function(fv){return fw.IsRegexMatch("^\\s*(\\+|-)?((\\d+(\\.\\d+)?)|(\\.\\d+))\\s*$",fu,fv);};},IsGreaterThan:function(fx,fy,fz){return this.Validate(function(fA){return p.Compare(fA,fx)===1;},fy,fz);},IsInt:function(fB){var fD=this;return function(fC){return fD.IsRegexMatch("^-?\\d+$",fB,fC);};},IsLessThan:function(fE,fF,fG){return this.Validate(function(fH){return p.Compare(fH,fE)===-1;},fF,fG);},IsNotEmpty:function(fI,fJ){return this.Validate(function(fK){return fK!=="";},fI,fJ);},IsNotEqual:function(fL,fM,fN){return this.Validate(function(fO){return!p.Equals(fO,fL);},fM,fN);},IsRegexMatch:function(fP,fQ,fR){var fT=this;return this.Validate(function(fS){return fT.VP.Matches(fP,fS);},fQ,fR);},IsTrue:function(fU,fV){return this.Validate(function(fW){return fW;},fU,fV);},Validate:function(fX,fY,fZ){return fZ.MapResult(function(f0){var f1;if(f0.$==1){return $.New(g,{$:1,$0:f0.$0});}else{f1=f0.$0;return fX(f1)?$.New(g,{$:0,$0:f1}):$.New(g,{$:1,$0:i.ofArray([fY])});}});}},{New:function(f2){var f3;f3=$.New(this,{});f3.VP=f2;return f3;}})}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.Formlet);b=$.Safe(a.Base);c=$.Safe(b.Formlet);d=$.Safe(b.Form);e=$.Safe(b.Tree);f=$.Safe(e.Edit);g=$.Safe(b.Result);h=$.Safe($$.IntelliFactory.WebSharper);i=$.Safe(h.List);j=$.Safe(i.T);k=$.Safe(b.LayoutUtils);l=$.Safe(e.Tree);m=$.Safe(h.Util);n=$.Safe(h.Seq);o=$.Safe(h.Enumerator);return p=$.Safe(h.Unchecked);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1;$.Define($$,{IntelliFactory:{WebSharper:{Formlet:{Body:$.Class({},{New:function(_2,_3){return $.New(c,{Element:_2,Label:_3});}}),Controls:{Button:function(_4){return d.ElementButton(function(){return f.Button(g.ofArray([f.Text(_4)]));});},Checkbox:function(_6){return d.CheckboxControl(false,_6);},CheckboxControl:function(_7,_8){return h.MkFormlet(function(){var _,ba,bb,bc,bf,bg;_=j.New($.New(m,{$:0,$0:_8}));ba=_7?g.ofArray([f.Attr().NewAttr("disabled","disabled")]):$.New(n,{$:0});bb=o.add(f.Input(g.ofArray([f.Attr().NewAttr("type","checkbox"),f.Attr().Class("inputCheckbox")])),ba);bc=function(bd){return function(){return!_7?_.Trigger($.New(m,{$:0,$0:p(bd.Body).prop("checked")})):null;};};q.Events().OnClick(bc,bb);bf=bb;if(_8){bf["HtmlProvider@32"].SetAttribute(bf.Body,"defaultChecked","true");}else{bf["HtmlProvider@32"].RemoveAttribute(bf.Body,"checked");}bg=function(){if(_8){bf["HtmlProvider@32"].SetProperty(bf.Body,"checked",true);}else{bf["HtmlProvider@32"].RemoveAttribute(bf.Body,"checked");bf["HtmlProvider@32"].SetProperty(bf.Body,"checked",false);}return _.Trigger($.New(m,{$:0,$0:_8}));};bg(null);return[bf,bg,_];});},CheckboxGroup:function(bh){return d.CheckboxGroupControl(false,bh);},CheckboxGroupControl:function(bi,bj){var bk,bs;bk=r.Sequence(g.map($.Tupled(function(bl){var bm,bn,bo;bm=bl[0];bn=bl[1];bo=d.CheckboxControl(bi,bl[2]);return r.Map(function(bp){return[bp,bn];},r.WithLabel({$:1,$0:function(){var br;br=g.ofArray([f.Text(bm)]);return f.Tags().NewTag("label",br);}},bo));}),bj));bs=$.Tupled(function(bt){var bu;bu=bt[1];return bt[0]?{$:1,$0:bu}:{$:0};});return r.Map(function(bv){return g.choose(bs,bv);},bk);},ElementButton:function(bw){return h.MkFormlet(function(){var by,bz,bA,bB;by=j.New($.New(m,{$:1,$0:$.New(n,{$:0})}));bz={contents:0};bA=bw(null);bB=function(){return function(){by.Trigger($.New(m,{$:0,$0:bz.contents}));return s.Increment(bz);};};q.Events().OnClick(bB,bA);return[bA,function(){bz.contents=0;return by.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));},by];});},Input:function(bF){return d.InputField(false,"text",t.InputTextClass(),bF);},InputControl:function(bG,bH){return h.MkFormlet(function(){var bJ,bK;bJ=j.New($.New(m,{$:0,$0:bG}));bK=bH(bJ);bK.set_Value(bG);return[bK,function(){bK.set_Value(bG);return bJ.Trigger($.New(m,{$:0,$0:bG}));},bJ];});},InputField:function(bM,bN,bO,bP){return d.InputControl(bP,function(bQ){var bR,bS;bR=bM?g.ofArray([f.Attr().NewAttr("readonly","readonly")]):$.New(n,{$:0});bS=f.Input(g.append(g.ofArray([f.Attr().NewAttr("type",bN),f.Attr().Class(bO)]),bR));d.OnTextChange(function(){return!bM?bQ.Trigger($.New(m,{$:0,$0:bS.get_Value()})):null;},bS);return bS;});},OnTextChange:function(bU,bV){var bW,bX,bZ,b1;bW={contents:bV.get_Value()};bX=function(){if(bV.get_Value()!==bW.contents){bW.contents=bV.get_Value();return bU(null);}else{return null;}};bZ=function(){return bX(null);};q.Events().OnChange(bZ,bV);b1=function(){return function(){return bX(null);};};q.Events().OnKeyUp(b1,bV);bV.Body.oninput=bX;return;},Password:function(b4){return d.InputField(false,"password","inputPassword",b4);},RadioButtonGroup:function(b5,b6){return d.RadioButtonGroupControl(false,b5,b6);},RadioButtonGroupControl:function(b7,b8,b9){return r.New(function(){var b$,ca,cb,ch,ci,ck,co,cp,ct;b$="id"+u.round(u.random()*100000000);if(b8.$==0){ca={$:0};}else{cb=g.mapi(function(cc){return $.Tupled(function(cd){return[cc,cd[1]];});},b9);ca=v.tryPick($.Tupled(function(ce){var cf,cg;cf=ce[0];cg=ce[1];return b8.$==0?{$:0}:b8.$0===cf?{$:1,$0:$.New(m,{$:0,$0:cg})}:{$:0};}),cb);}ch=j.New($.New(m,{$:1,$0:$.New(n,{$:0})}));ci=w.Maybe(ch,function(cj){return j.New(cj);},ca);ck=$.Tupled(function(cl){var cm,cn;cm=cl[0];cn=cl[1];return[o.add(f.Input(g.ofArray([f.Attr().Class("inputRadio"),f.Attr().NewAttr("type","radio"),f.Attr().NewAttr("name",b$)])),b7?g.ofArray([f.Attr().NewAttr("disabled","disabled")]):$.New(n,{$:0})),cm,cn];});co=g.map(ck,b9);cp=function(cq,cr,cs){if(b8.$==0){cq["HtmlProvider@32"].RemoveAttribute(cq.Body,"checked");return ci.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));}else{if(b8.$0===cs){cq["HtmlProvider@32"].SetProperty(cq.Body,"checked",true);return ci.Trigger($.New(m,{$:0,$0:cr}));}else{return cq["HtmlProvider@32"].SetProperty(cq.Body,"checked",false);}}};ct=$.New(y,{$:0,$0:x.FromSequence(g.mapi(function(cu){return $.Tupled(function(cv){var cw,cx,cy,cz;cw=cv[0];cx=cv[1];cy=cv[2];cp(cw,cy,cu);cz=function(){return function(){return!b7?ci.Trigger($.New(m,{$:0,$0:cy})):null;};};q.Events().OnClick(cz,cw);return $.New(c,{Element:cw,Label:{$:1,$0:function(){var cD;cD=g.ofArray([f.Text(cx)]);return f.Tags().NewTag("label",cD);}}});});},co))});return $.New(z,{Body:h.RX().Return(ct),Dispose1:function(){},Notify:function(){return v.iteri(function(cG){return $.Tupled(function(cH){return cp(cH[0],cH[2],cG);});},co);},State:ci});});},ReadOnlyCheckbox:function(cI){return d.CheckboxControl(true,cI);},ReadOnlyInput:function(cJ){return d.InputField(true,"text",t.InputTextClass(),cJ);},ReadOnlyRadioButtonGroup:function(cK,cL){return d.RadioButtonGroupControl(true,cK,cL);},ReadOnlySelect:function(cM,cN){return d.SelectControl(true,cM,cN);},ReadOnlyTextArea:function(cO){return d.TextAreaControl(true,cO);},Select:function(cP,cQ){return d.SelectControl(false,cP,cQ);},SelectControl:function(cR,cS,cT){return h.MkFormlet(function(){var cV,cX,cY,cZ,c0,c4,c5,c6,c7,c8,c_;cV=$.Tupled(function(cW){return cW[1];});cX=g.map(cV,cT);cY=A.ofSeq(cX);cZ=(cS>=0?cS<cT.get_Length():false)?cS:0;c0=g.mapi(function(c1){return $.Tupled(function(c2){var c3;c3=c2[0];return f.Tags().NewTag("option",g.ofArray([f.Text(c3),f.Attr().NewAttr("value",$$.String(c1))]));});},cT);c4=f.Select(c0);c5=cR?o.add(c4,g.ofArray([f.Attr().NewAttr("disabled","disabled")])):c4;c6=$.New(m,{$:0,$0:B.GetArray(cY,cZ)});c7=j.New(c6);c8=function(){c5["HtmlProvider@32"].SetProperty(c5.Body,"value",$$.String(cZ));return c7.Trigger(c6);};c8(null);c_=function(){return!cR?c7.Trigger($.New(m,{$:0,$0:B.GetArray(cY,c5.get_Value()<<0)})):null;};q.Events().OnChange(c_,c5);c8(null);return[c5,c8,c7];});},TextArea:function(da){return d.TextAreaControl(false,da);},TextAreaControl:function(db,dc){return d.InputControl(dc,function(dd){var de;de=f.TextArea(db?g.ofArray([f.Attr().NewAttr("readonly","readonly")]):$.New(n,{$:0}));d.OnTextChange(function(){return!db?dd.Trigger($.New(m,{$:0,$0:de.get_Value()})):null;},de);return de;});}},CssConstants:{InputTextClass:$.Field(function(){return"inputText";})},Data:{$:function(dg,dh){return h.OfIFormlet(h.BaseFormlet().Apply(dg,dh));},BaseFormlet:function(){return C.New(h.UtilsProvider());},DefaultLayout:$.Field(function(){return h.Layout().get_Vertical();}),Formlet:$.Class({Build:function(){return this.BuildInternal.call(null,null);},MapResult:function(di){var dl=this;return $.New(D,{BuildInternal:function(){var dk;dk=dl.BuildInternal.call(null,null);return $.New(z,{Body:dk.Body,Dispose1:dk.Dispose1,Notify:dk.Notify,State:dl.Utils.Reactive.Select(dk.State,function(dm){return di(dm);})});},LayoutInternal:dl.LayoutInternal,ElementInternal:{$:0},FormletBase:dl.FormletBase,Utils:dl.Utils});},Render:function(){return this.Run(function(){}).Render();},Run:function(_do){var dp,dq,dr,dt,du;dp=this.ElementInternal;if(dp.$==0){dq=this.FormletBase.ApplyLayout(this);dr=dq.Build();E.subscribeTo(dr.State,function(ds){m.Map(_do,ds);});dt=dq.get_Layout().Apply.call(null,dr.Body);du=dt.$==0?h.DefaultLayout().Apply.call(null,dr.Body).$0[0].Element:dt.$0[0].Element;this.ElementInternal={$:1,$0:du};return du;}else{return dp.$0;}},get_Body:function(){return this.Run(function(){}).get_Body();},get_Layout:function(){return this.LayoutInternal;}}),Layout:$.Field(function(){return F.New(G.New({Reactive:H.Default()}));}),MkFormlet:function(dw){var dx;dx=function(){var dz,dA,dB,dC,dE;dz=dw(null);dA=dz[2];dB=dz[1];dC=function(){return dB(null);};dE=x.Set(h.NewBody(dz[0],{$:0}));return $.New(z,{Body:h.RX().Return(dE),Dispose1:function(){return null;},Notify:dC,State:dA});};return h.OfIFormlet(h.BaseFormlet().New(dx));},NewBody:function(dG,dH){return c.New(dG,dH);},OfIFormlet:function(dI){return h.PropagateRenderFrom(dI,$.New(D,{BuildInternal:function(){return dI.Build();},LayoutInternal:dI.get_Layout(),ElementInternal:{$:0},FormletBase:h.BaseFormlet(),Utils:h.UtilsProvider()}));},PropagateRenderFrom:function(dK,dL){if(dK.hasOwnProperty("Render")){dL.Render=dK.Render;}return dL;},RX:$.Field(function(){return H.Default();}),UtilsProvider:function(){return{Reactive:h.RX(),DefaultLayout:h.DefaultLayout()};},Validator:$.Field(function(){return I.New(J.New());}),ValidatorProvidor:$.Class({Matches:function(dM,dN){return dN.match(new K(dM));}},{New:function(){return $.New(this,{});}})},ElementStore:$.Class({Init:function(){this.store=M.New2();return;},RegisterElement:function(dO,dP){return!this.store.ContainsKey(dO)?this.store.set_Item(dO,dP):null;},Remove:function(dQ){if(this.store.ContainsKey(dQ)){(this.store.get_Item(dQ))(null);this.store.Remove(dQ);return;}else{return null;}}},{New:function(){return $.New(this,{});},NewElementStore:function(){var dR;dR=N.New();dR.Init();return dR;}}),Enhance:{Cancel:function(dS,dT){return r.Replace(dS,function(dU){return dT(dU)?r.Empty():r.Return(dU);});},CustomMany:function(dV,dW){var dX,dZ,d0,d2,d4,d5,d6,d7,d8,d9,d_,ea;dX=d.ElementButton(function(){return o.add(f.Div(g.ofArray([f.Attr().Class(dV.AddIconClass)])),g.ofArray([f.Div($.New(n,{$:0}))]));});dZ=r.InitWith(1,dX);d0=function(){};d2=d.ElementButton(function(){return o.add(f.Div(g.ofArray([f.Attr().Class(dV.RemoveIconClass)])),g.ofArray([f.Div($.New(n,{$:0}))]));});d4=r.Map(d0,d2);d5=r.WithCancelation(dW,d4);d6=r.WithLayout(h.Layout().get_Horizontal(),d5);d7=O.Deletable(d6);d8=j.New($.New(m,{$:0,$0:null}));d9=h.OfIFormlet(h.BaseFormlet().FromState(d8));d_=function(){return d8.Trigger($.New(m,{$:0,$0:null}));};ea=r.Do();return r.WithNotification(d_,ea.Delay(function(){return ea.Bind(d9,function(){return ea.ReturnFrom(r.ApplyLayout(r.WithLayoutOrDefault(r.Map(function(ed){return g.ofSeq(ed);},O.Many_(dZ,function(){return d7;})))));});}));},Deletable:function(ef){return O.Replace(ef,function(eg){return eg.$==1?r.Return({$:1,$0:eg.$0}):r.ReturnEmpty({$:0});});},FormButtonConfiguration:$.Class({},{get_Default:function(){return $.New(P,{Label:{$:0},Style:{$:0},Class:{$:0}});}}),FormContainerConfiguration:$.Class({},{get_Default:function(){var eh;eh={$:0};return $.New(Q,{Header:{$:0},Padding:R.get_Default(),Description:eh,BackgroundColor:{$:0},BorderColor:{$:0},CssClass:{$:0},Style:{$:0}});}}),InputButton:function(ei,ej){return h.MkFormlet(function(){var el,em,en,ep,eq,et,eu,ev,ew,ex;el=j.New($.New(m,{$:1,$0:$.New(n,{$:0})}));em={contents:0};en=w.Maybe("Submit",function(eo){return eo;},ei.Label);ep=o.add(f.Input(g.ofArray([f.Attr().NewAttr("type","button")])),g.ofArray([f.Attr().Class("submitButton"),f.Attr().NewAttr("value",en)]));eq=function(){return function(){s.Increment(em);return el.Trigger($.New(m,{$:0,$0:em.contents}));};};q.Events().OnClick(eq,ep);et=ep;if(!ej){et["HtmlProvider@32"].AddClass(et.Body,"disabledButton");}ev=ei.Style;if(ev.$==1){et["HtmlProvider@32"].SetStyle(et.Body,ev.$0);}ew=ei.Class;if(ew.$==1){et["HtmlProvider@32"].AddClass(et.Body,ew.$0);}eu=et;ex=function(){em.contents=0;return el.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));};el.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));return[eu,ex,el];});},Many:function(ez){return O.CustomMany(S.get_Default(),ez);},ManyConfiguration:$.Class({},{get_Default:function(){return $.New(S,{AddIconClass:"addIcon",RemoveIconClass:"removeIcon"});}}),Many_:function(eA,eB){var eC;eC=function(eD){return eD;};return r.Map(function(eE){return v.choose(eC,eE);},r.FlipBody(r.SelectMany(r.Map(function(eF){return eB(eF);},eA))));},Padding:$.Class({},{get_Default:function(){return $.New(R,{Left:{$:0},Right:{$:0},Top:{$:0},Bottom:{$:0}});}}),Replace:function(eG,eH){return r.Switch(r.MapResult(function(eI){return eI.$==1?$.New(m,{$:0,$0:r.FailWith(eI.$0)}):$.New(m,{$:0,$0:eH(eI.$0)});},eG));},ValidationFrameConfiguration:$.Class({},{get_Default:function(){return $.New(T,{ValidClass:{$:1,$0:"successFormlet"},ValidStyle:{$:0},ErrorClass:{$:1,$0:"errorFormlet"},ErrorStyle:{$:0}});}}),ValidationIconConfiguration:$.Class({},{get_Default:function(){return $.New(U,{ValidIconClass:"validIcon",ErrorIconClass:"errorIcon"});}}),WithCssClass:function(eJ,eK){return r.MapElement(function(eL){eL["HtmlProvider@32"].AddClass(eL.Body,eJ);return eL;},eK);},WithCustomFormContainer:function(eM,eN){var eO;eO=r.ApplyLayout(eN);return r.MapElement(function(eP){var eQ,eR,eS,eV,eW,eX,e1,e3,fa,fb;eQ=eM.Description;eR=$.New(n,{$:0});eS=w.Maybe(eR,function(eT){var eU;if(eT.$==1){return g.ofArray([eT.$0.call(null,null)]);}else{eU=eT.$0;return g.ofArray([f.P(g.ofArray([f.Tags().text(eU)]))]);}},eQ);eV=eM.Header;eW=w.InTable(g.ofArray([g.ofArray([o.add(f.Div(g.ofArray([f.Attr().Class("headerPanel")])),eS)]),g.ofArray([eP])]));eX=w.Maybe(eW,function(eY){var eZ,e0;if(eY.$==1){eZ=eY.$0.call(null,null);}else{e0=eY.$0;eZ=f.H1(g.ofArray([f.Tags().text(e0)]));}return w.InTable(g.ofArray([g.ofArray([o.add(f.Div(g.ofArray([f.Attr().Class("headerPanel")])),$.New(n,{$:1,$0:eZ,$1:eS}))]),g.ofArray([eP])]));},eV);e1=o.add(f.TD(g.ofArray([f.Attr().Class("formlet")])),g.ofArray([eX]));w.Maybe(null,function(e2){return e1["HtmlProvider@32"].SetStyle(e1.Body,"border-color: "+e2);},eM.BorderColor);e3=g.ofArray([["background-color",w.MapOption(function(e4){return e4;},eM.BackgroundColor)],["padding-left",w.MapOption(function(e5){return $$.String(e5)+"px";},eM.Padding.Left)],["padding-right",w.MapOption(function(e6){return $$.String(e6)+"px";},eM.Padding.Right)],["padding-top",w.MapOption(function(e7){return $$.String(e7)+"px";},eM.Padding.Top)],["padding-bottom",w.MapOption(function(e8){return $$.String(e8)+"px";},eM.Padding.Bottom)]]);v.iter($.Tupled(function(e9){var e_,e$;e_=e9[0];e$=e9[1];return e$.$==0?null:e1["HtmlProvider@32"].SetCss(e1.Body,e_,e$.$0);}),e3);fa=eM.Style;if(fa.$==0){}else{e1["HtmlProvider@32"].SetStyle(e1.Body,fa.$0);}fb=eM.CssClass;if(fb.$==0){}else{e1["HtmlProvider@32"].AddClass(e1.Body,fb.$0);}return f.Table(g.ofArray([f.TBody(g.ofArray([f.TR(g.ofArray([e1]))]))]));},eO);},WithCustomResetButton:function(fc,fd){return O.WithResetFormlet(fd,O.InputButton(fc.Label.$==0?$.New(P,{Label:{$:1,$0:"Reset"},Style:fc.Style,Class:fc.Class}):fc,true));},WithCustomSubmitAndResetButtons:function(fe,ff,fg){return O.WithSubmitAndReset(fg,function(fh){return function(fi){var fj,fk,fm,fo,fp,fs;if(fi.$==1){fk=fi.$0;fj=r.MapResult(function(){return $.New(m,{$:1,$0:fk});},O.InputButton(fe,false));}else{fm=fi.$0;fj=r.Map(function(){return fm;},O.InputButton(fe,true));}fo=r.Do();fp=fo.Delay(function(){return fo.Bind(r.LiftResult(O.InputButton(ff,true)),function(fr){if(fr.$==0){fh(null);}return fo.Return(null);});});fs=h.$(h.$(r.Return(function(ft){return function(){return ft;};}),fj),fp);return r.WithLayout(h.Layout().get_Horizontal(),fs);};});},WithCustomSubmitButton:function(fv,fw){var fx;fx=fv.Label.$==0?$.New(P,{Label:{$:1,$0:"Submit"},Style:fv.Style,Class:fv.Class}):fv;return O.WithSubmitFormlet(fw,function(fy){return r.Map(function(){},O.InputButton(fx,fy.$==0?true:false));});},WithCustomValidationFrame:function(fA,fB){return O.WrapFormlet(function(fC){return function(fD){var fE;fE=f.Div(g.ofArray([fD.Element]));o.OnAfterRender(function(fF){E.subscribeTo(fC,function(fG){var fH,fI,fJ,fK,fL,fM,fN;if(fG.$==1){fH=fG.$0;fI=fA.ValidClass;if(fI.$==1){fF["HtmlProvider@32"].RemoveClass(fF.Body,fI.$0);}fJ=fA.ErrorClass;if(fJ.$==1){fF["HtmlProvider@32"].AddClass(fF.Body,fJ.$0);}fK=fA.ErrorStyle;return fK.$==1?fF["HtmlProvider@32"].SetStyle(fF.Body,fK.$0):fF["HtmlProvider@32"].SetStyle(fF.Body,"");}else{fL=fA.ErrorClass;if(fL.$==1){fF["HtmlProvider@32"].RemoveClass(fF.Body,fL.$0);}fM=fA.ValidClass;if(fM.$==1){fF["HtmlProvider@32"].AddClass(fF.Body,fM.$0);}fN=fA.ValidStyle;return fN.$==1?fF["HtmlProvider@32"].SetStyle(fF.Body,fN.$0):fF["HtmlProvider@32"].SetStyle(fF.Body,"");}});},fE);return fE;};},fB);},WithCustomValidationIcon:function(fO,fP){var fQ,fR,fS;fQ=r.WithLayoutOrDefault(fP);fR=r.Do();fS=r.MapResult(function(fT){return m.Join(fT);},fR.Delay(function(){return fR.Bind(r.LiftResult(fQ),function(fV){return fR.Bind(r.OfElement(function(){var fX;if(fV.$==1){fX=v.fold(function(fY){return function(fZ){return fY+" "+fZ;};},"",fV.$0);return o.add(f.Div(g.ofArray([f.Attr().Class(fO.ErrorIconClass),f.Attr().NewAttr("title",fX)])),g.ofArray([f.Div($.New(n,{$:0}))]));}else{return o.add(f.Div(g.ofArray([f.Attr().Class(fO.ValidIconClass),f.Attr().NewAttr("title","")])),g.ofArray([f.Div($.New(n,{$:0}))]));}}),function(){return fR.Return(fV);});});}));return r.WithLayout(h.Layout().get_Horizontal(),fS);},WithErrorFormlet:function(f1,f2){var f3;f3=r.Do();return r.MapResult(function(f4){return m.Join(f4);},f3.Delay(function(){return f3.Bind(r.LiftResult(f2),function(f6){var f7,f8,f9;if(f6.$==1){f8=f6.$0;f9=r.Do();f7=f9.Delay(function(){return f9.Bind(f1(f8),function(){return f9.Return(f6);});});}else{f7=r.Return(f6);}return f3.ReturnFrom(f7);});}));},WithErrorSummary:function(ga,gb){var gc;gc=r.Do();return r.MapResult(function(gd){return m.Join(gd);},gc.Delay(function(){return gc.Bind(r.LiftResult(gb),function(gf){var gg,gh;if(gf.$==1){gh=gf.$0;gg=r.Map(function(){return gf;},r.OfElement(function(){var gk,gl;gl=g.ofArray([f.Text(ga)]);gk=g.ofArray([f.Tags().NewTag("legend",gl),f.UL(g.map(function(gm){return f.LI(g.ofArray([f.Text(gm)]));},gh))]);return f.Tags().NewTag("fieldset",gk);}));}else{gg=r.Return(gf);}return gc.ReturnFrom(gg);});}));},WithFormContainer:function(gn){return O.WithCustomFormContainer(Q.get_Default(),gn);},WithJsonPost:function(go,gp){var gq,gr,gs,gt,gu,gv,gw,gx,gy,gz,gA,gB,gC,gD,gE;gq=go.PostUrl;if(gq.$==0){gr=$.New(n,{$:0});}else{gs=gq.$0;gr=g.ofArray([f.Attr().NewAttr("action",gs)]);}gt=go.EncodingType;if(gt.$==0){gu=$.New(n,{$:0});}else{gv=gt.$0;gu=g.ofArray([f.Attr().NewAttr("enctype",gv)]);}gw=f.Tags();gy=go.ParameterName;gx=g.ofArray([f.Attr().NewAttr("type","hidden"),f.Attr().NewAttr("name",gy)]);gz=gw.NewTag("input",gx);gA=f.Tags();gB=g.ofArray([f.Attr().NewAttr("type","submit"),f.Attr().NewAttr("value","Submit")]);gC=gA.NewTag("input",gB);gD=o.add(f.Form(g.append($.New(n,{$:1,$0:f.Attr().NewAttr("method","POST"),$1:$.New(n,{$:1,$0:f.Attr().NewAttr("style","display:none"),$1:gr})}),gu)),g.ofArray([gz,gC]));gE=function(gF){var gG;gG=V.stringify(gF);p(gz.Body).val(gG);return p(gC.Body).click();};o.OnAfterRender(function(gH){var gI;gI=go.EncodingType;return gI.$==0?null:gI.$0==="multipart/form-data"?void p(gH.Body).attr("encoding","multipart/form-data"):null;},gD);return f.Div(g.ofArray([gD,r.Map(gE,gp)]));},WithLabel:function(gJ,gK){return r.WithLabel({$:1,$0:gJ},gK);},WithLabelAbove:function(gL){return r.MapBody(function(gM){var gN;gN=gM.Label;return $.New(c,{Element:f.Table(g.ofArray([f.TBody(g.ofArray([f.TR(g.ofArray([f.TD(g.ofArray([gN.$==0?f.Span($.New(n,{$:0})):gN.$0.call(null,null)]))])),f.TR(g.ofArray([f.TD(g.ofArray([gM.Element]))]))]))])),Label:{$:0}});},gL);},WithLabelAndInfo:function(gO,gP,gQ){return O.WithLabel(function(){var gS;gS=g.ofArray([f.Text(gO)]);return w.InTable(g.ofArray([g.ofArray([f.Tags().NewTag("label",gS),f.Span(g.ofArray([f.Attr().NewAttr("title",gP),f.Attr().Class("infoIcon")]))])]));},gQ);},WithLabelConfiguration:function(gT,gU){var gV;gV=r.ApplyLayout(gU);return r.WithLayout(h.Layout().LabelLayout(gT),gV);},WithLabelLeft:function(gW){return r.MapBody(function(gX){var gY,gZ;gY=gX.Label;gZ=gY.$==0?f.Span($.New(n,{$:0})):gY.$0.call(null,null);return $.New(c,{Element:f.Table(g.ofArray([f.TBody(g.ofArray([f.TR(g.ofArray([f.TD(g.ofArray([gX.Element])),f.TD(g.ofArray([gZ]))]))]))])),Label:{$:0}});},gW);},WithLegend:function(g0,g1){return r.MapBody(function(g2){var g3,g4,g5;g4=g.ofArray([f.Tags().text(g0)]);g5=g2.Label;g3=g.ofArray([f.Tags().NewTag("legend",g4),g5.$==0?g2.Element:w.InTable(g.ofArray([g.ofArray([g5.$0.call(null,null),g2.Element])]))]);return $.New(c,{Element:f.Tags().NewTag("fieldset",g3),Label:{$:0}});},g1);},WithResetAction:function(g6,g7){var g8;g8=r.New(function(){var g_;g_=g7.Build();return $.New(z,{Body:g_.Body,Dispose1:g_.Dispose1,Notify:function(g$){return g6(null)?g_.Notify.call(null,g$):null;},State:g_.State});});return h.OfIFormlet(h.PropagateRenderFrom(g7,r.WithLayout(g7.get_Layout(),g8)));},WithResetButton:function(ha){return O.WithCustomResetButton(P.get_Default(),ha);},WithResetFormlet:function(hb,hc){var hd,he,hf,hg,hh;hd=r.InitWithFailure(r.ApplyLayout(r.WithLayoutOrDefault(hb)));he=r.LiftResult(hd);hf=r.WithNotificationChannel(he);hg=r.LiftResult(hc);hh=r.Do();return h.OfIFormlet(h.PropagateRenderFrom(hf,r.MapResult(function(hi){return m.Join(hi);},hh.Delay(function(){return hh.Bind(hf,$.Tupled(function(hk){var hl,hm;hl=hk[0];hm=hk[1];return hh.Bind(hg,function(hn){if(hn.$==0){hm(null);}return hh.Return(hl);});}));}))));},WithRowConfiguration:function(ho,hp){var hq;hq=r.ApplyLayout(hp);return r.WithLayout(h.Layout().RowLayout(ho),hq);},WithSubmitAndReset:function(hr,hs){var ht;ht=r.Do();return h.OfIFormlet(h.PropagateRenderFrom(hr,ht.Delay(function(){return ht.Bind(r.WithNotificationChannel(r.LiftResult(r.InitWithFailure(hr))),$.Tupled(function(hv){var hw,hx;hw=hv[0];hx=hv[1];return ht.ReturnFrom((hs(function(hy){return hx(hy);}))(hw));}));})));},WithSubmitAndResetButtons:function(hz){var hA,hB,hC;hA=P.get_Default();hB=$.New(P,{Label:{$:1,$0:"Submit"},Style:hA.Style,Class:hA.Class});hC=P.get_Default();return O.WithCustomSubmitAndResetButtons(hB,$.New(P,{Label:{$:1,$0:"Reset"},Style:hC.Style,Class:hC.Class}),hz);},WithSubmitButton:function(hD){return O.WithCustomSubmitButton(P.get_Default(),hD);},WithSubmitFormlet:function(hE,hF){var hG;hG=r.Do();return h.OfIFormlet(h.PropagateRenderFrom(hE,r.MapResult(function(hH){return m.Join(hH);},hG.Delay(function(){return hG.Bind(r.LiftResult(r.InitWithFailure(hE)),function(hJ){return hG.Bind(hF(hJ),function(){return hG.Return(hJ);});});}))));},WithTextLabel:function(hL,hM){return O.WithLabel(function(){var hO;hO=g.ofArray([f.Text(hL)]);return f.Tags().NewTag("label",hO);},hM);},WithValidationFrame:function(hP){return O.WithCustomValidationFrame(T.get_Default(),hP);},WithValidationIcon:function(hQ){return O.WithCustomValidationIcon(U.get_Default(),hQ);},WrapFormlet:function(hR,hS){return h.MkFormlet(function(){var hU,hV,hW;hU=r.WithLayoutOrDefault(hS);hV=r.BuildForm(hU);hW=hU.get_Layout().Apply.call(null,hV.Body).$0[0];return[(hR(hV.State))(hW),function(){return hV.Notify.call(null,null);},hV.State];});}},Formlet:{ApplyLayout:function(hY){return h.OfIFormlet(h.PropagateRenderFrom(hY,h.BaseFormlet().ApplyLayout(hY)));},Bind:function(hZ,h0){var h1;h1=function(h2){return h0(h2);};return h.OfIFormlet(h.PropagateRenderFrom(hZ,h.BaseFormlet().Bind(hZ,h1)));},BindWith:function(h3,h4,h5){var h6;h6=function(h7){return h5(h7);};return h.OfIFormlet(h.PropagateRenderFrom(h4,h.BaseFormlet().BindWith(h3,h4,h6)));},BuildForm:function(h8){return h.BaseFormlet().BuildForm(h8);},BuildFormlet:function(h9){return h.MkFormlet(h9);},Choose:function(h_){var h$,ia,id,ie,il;h$={contents:0};ia=v.map(function(ib){return r.LiftResult(r.InitWithFailure(r.Map(function(ic){s.Increment(h$);return[ic,h$.contents];},ib)));},h_);id=r.Sequence(ia);ie=r.Map(function(_if){var ig,ii;ig=g.choose(function(ih){return ih.$==0?{$:1,$0:ih.$0}:{$:0};},_if);ii=g.rev(g.sortBy($.Tupled(function(ij){return ij[1];}),ig));return v.tryPick($.Tupled(function(ik){return{$:1,$0:ik[0]};}),ii);},id);il=function(im){return im.$==1;};return r.Map(function(_in){return _in.$0;},h.Validator().Is(il,"",ie));},Delay:function(io){return h.OfIFormlet(h.BaseFormlet().Delay(function(){return io(null);}));},Deletable:function(iq){return h.OfIFormlet(h.PropagateRenderFrom(iq,h.BaseFormlet().Deletable(iq)));},Do:$.Field(function(){return W.New();}),Empty:function(){return h.OfIFormlet(h.BaseFormlet().Empty());},FailWith:function(ir){return h.OfIFormlet(h.BaseFormlet().FailWith(ir));},FlipBody:function(is){return h.OfIFormlet(h.PropagateRenderFrom(is,h.BaseFormlet().FlipBody(is)));},Flowlet:function(it){return h.OfIFormlet(h.PropagateRenderFrom(it,h.BaseFormlet().WithLayout(h.Layout().get_Flowlet(),it)));},Horizontal:function(iu){return h.OfIFormlet(h.PropagateRenderFrom(iu,h.BaseFormlet().WithLayout(h.Layout().get_Horizontal(),iu)));},InitWith:function(iv,iw){return h.OfIFormlet(h.PropagateRenderFrom(iw,h.BaseFormlet().InitWith(iv,iw)));},InitWithFailure:function(ix){return h.OfIFormlet(h.PropagateRenderFrom(ix,h.BaseFormlet().InitWithFailure(ix)));},Join:function(iy){var iz;iz=r.Map(function(iA){return iA;},iy);return h.OfIFormlet(h.PropagateRenderFrom(iy,h.BaseFormlet().Join(iz)));},LiftResult:function(iB){return h.OfIFormlet(h.PropagateRenderFrom(iB,h.BaseFormlet().LiftResult(iB)));},Map:function(iC,iD){return h.OfIFormlet(h.PropagateRenderFrom(iD,h.BaseFormlet().Map(iC,iD)));},MapBody:function(iE,iF){return h.OfIFormlet(h.PropagateRenderFrom(iF,h.BaseFormlet().MapBody(iE,iF)));},MapElement:function(iG,iH){return h.OfIFormlet(h.PropagateRenderFrom(iH,h.BaseFormlet().MapBody(function(iI){return $.New(c,{Element:iG(iI.Element),Label:iI.Label});},iH)));},MapResult:function(iJ,iK){return h.OfIFormlet(h.PropagateRenderFrom(iK,h.BaseFormlet().MapResult(iJ,iK)));},Never:function(){return h.OfIFormlet(h.BaseFormlet().Never());},New:function(iL){return h.OfIFormlet(h.BaseFormlet().New(iL));},OfElement:function(iM){return h.MkFormlet(function(){return[iM(null),function(){},h.RX().Return($.New(m,{$:0,$0:null}))];});},Render:function(iP){return h.PropagateRenderFrom(iP,iP.Run(function(){}));},Replace:function(iR,iS){var iT;iT=function(iU){return iS(iU);};return h.OfIFormlet(h.PropagateRenderFrom(iR,h.BaseFormlet().Replace(iR,iT)));},ReplaceFirstWithFailure:function(iV){return h.OfIFormlet(h.PropagateRenderFrom(iV,h.BaseFormlet().ReplaceFirstWithFailure(iV)));},Return:function(iW){return h.OfIFormlet(h.BaseFormlet().Return(iW));},ReturnEmpty:function(iX){return h.OfIFormlet(h.BaseFormlet().ReturnEmpty(iX));},Run:function(iY,iZ){return iZ.Run(iY);},SelectMany:function(i0){var i1;i1=r.Map(function(i2){return i2;},i0);return h.OfIFormlet(h.PropagateRenderFrom(i0,h.BaseFormlet().SelectMany(i1)));},Sequence:function(i3){var i4;i4=v.map(function(i5){return i5;},i3);return h.OfIFormlet(h.BaseFormlet().Sequence(i4));},Switch:function(i6){var i7;i7=r.Map(function(i8){return i8;},i6);return h.OfIFormlet(h.PropagateRenderFrom(i6,h.BaseFormlet().Switch(i7)));},Vertical:function(i9){return h.OfIFormlet(h.PropagateRenderFrom(i9,h.BaseFormlet().WithLayout(h.Layout().get_Vertical(),i9)));},WithCancelation:function(i_,i$){return h.OfIFormlet(h.PropagateRenderFrom(i_,h.BaseFormlet().WithCancelation(i_,i$)));},WithLabel:function(ja,jb){return h.OfIFormlet(h.PropagateRenderFrom(jb,h.BaseFormlet().MapBody(function(jc){return $.New(c,{Element:jc.Element,Label:ja});},jb)));},WithLayout:function(jd,je){return h.OfIFormlet(h.PropagateRenderFrom(je,h.BaseFormlet().WithLayout(jd,je)));},WithLayoutOrDefault:function(jf){return h.OfIFormlet(h.PropagateRenderFrom(jf,h.BaseFormlet().WithLayoutOrDefault(jf)));},WithNotification:function(jg,jh){return h.OfIFormlet(h.PropagateRenderFrom(jh,h.BaseFormlet().WithNotification(jg,jh)));},WithNotificationChannel:function(ji){return h.OfIFormlet(h.PropagateRenderFrom(ji,h.BaseFormlet().WithNotificationChannel(ji)));}},FormletBuilder:$.Class({Bind:function(jj,jk){var jl;jl=function(jm){return jk(jm);};return h.OfIFormlet(h.PropagateRenderFrom(jj,h.BaseFormlet().Bind(jj,jl)));},Delay:function(jn){return h.OfIFormlet(h.BaseFormlet().Delay(function(jo){return jn(jo);}));},Return:function(jp){return h.OfIFormlet(h.BaseFormlet().Return(jp));},ReturnFrom:function(jq){return h.OfIFormlet(jq);}},{New:function(){return $.New(this,{});}}),Layout:{FormRowConfiguration:$.Class({},{get_Default:function(){return $.New(Y,{Padding:{$:0},Color:{$:0},Class:{$:0},Style:{$:0},LabelConfiguration:{$:0}});}}),LabelConfiguration:$.Class({},{get_Default:function(){return $.New(Z,{Align:{$:0},VerticalAlign:{$:1},Placement:{$:0}});}}),Padding:$.Class({},{get_Default:function(){return $.New(_0,{Left:{$:0},Right:{$:0},Top:{$:0},Bottom:{$:0}});}})},LayoutProvider:$.Class({ColumnLayout:function(jr){var js,jC=this;js=this.LayoutUtils;return js.New(function(){var ju,jv,jw,jx,jI;ju=f.TR($.New(n,{$:0}));jv=f.Table(g.ofArray([f.TBody(g.ofArray([ju]))]));jw=N.NewElementStore();jx=function(jy){return function(jz){var jA,jB,jD,jE,jF;jA=jz.Element.get_Id();jB=f.TD(g.ofArray([f.Table(g.ofArray([f.TBody(g.ofArray([jC.MakeRow(jr,jy,jz)]))]))]));jD=p(ju.Body);jE={contents:0};jF={contents:false};jD.children().each(function(){var jG;jG=p(this);if(jy===jE.contents){p(jB.Body).insertBefore(jG);jB.Render();jF.contents=true;}return s.Increment(jE);});if(!jF.contents){ju.AppendI(jB);}return jw.RegisterElement(jA,function(){return jB["HtmlProvider@32"].Remove(jB.Body);});};};jI=function(jJ){var jK;jK=_1.Get(jJ);while(jK.MoveNext()){jw.Remove(jK.get_Current().Element.get_Id());}return;};return{Body:$.New(c,{Element:jv,Label:{$:0}}),SyncRoot:null,Insert:jx,Remove:jI};});},HorizontalAlignElem:function(jL,jM){var jN;jN="float:"+(jL.$==0?"left":"right")+";";return o.add(f.Div(g.ofArray([f.Attr().NewAttr("style",jN)])),g.ofArray([jM]));},LabelLayout:function(jO){var jP;jP=Y.get_Default();return this.RowLayout($.New(Y,{Padding:jP.Padding,Color:jP.Color,Class:jP.Class,Style:jP.Style,LabelConfiguration:{$:1,$0:jO}}));},MakeLayout:function(jQ){var jR;jR=this.LayoutUtils;return jR.New(function(){var jT,jU,jV,j3;jT=jQ(null);jU=N.NewElementStore();jV=function(jW){return function(jX){var jY,jZ;jY=jX.Element.get_Id();jZ=(jT.Insert.call(null,jW))(jX);return jU.RegisterElement(jY,function(){var j1,j2;j1=_1.Get(jZ);while(j1.MoveNext()){j2=j1.get_Current();j2["HtmlProvider@32"].Remove(j2.Body);}return;});};};j3=function(j4){var j5;j5=_1.Get(j4);while(j5.MoveNext()){jU.Remove(j5.get_Current().Element.get_Id());}return;};return{Body:$.New(c,{Element:jT.Panel,Label:{$:0}}),SyncRoot:null,Insert:jV,Remove:j3};});},MakeRow:function(j6,j7,j8){var j9,j_,j$,kb,kc,ke,kf,kh,ki,kk,kl,kn,kE,kF,kG,kH,kI,kJ,kK,kM,kN,kO,kP,kQ,kR,kS,kT,kU,kX,kY,kZ,k1,k2,k3,k5,k6;j9=j6.Padding;j_=_0.get_Default();j$=w.Maybe(j_,function(ka){return ka;},j9);kb=j$.Left;kc=w.Maybe(0,function(kd){return kd;},kb);ke=j$.Top;kf=w.Maybe(0,function(kg){return kg;},ke);kh=j$.Right;ki=w.Maybe(0,function(kj){return kj;},kh);kk=j$.Bottom;kl=w.Maybe(0,function(km){return km;},kk);kn=function(ko){return function(kp){return function(kq){return function(kr){return function(ks){return function(kt){return function(ku){var kv,kw,ky,kz,kC;kv=g.ofArray([["padding-left: ",ko],["padding-top: ",kp],["padding-right: ",kq],["padding-bottom: ",kr]]);kw=$.Tupled(function(kx){return kx[0]+$$.String(kx[1])+"px;";});ky=g.map(kw,kv);kz=v.reduce(function(kA){return function(kB){return kA+kB;};},ky);kC=kz+";"+w.Maybe("",function(kD){return"vertical-align: "+(kD.$==1?"middle":kD.$==2?"bottom":"top")+";";},kt);return f.TD(g.append($.New(n,{$:1,$0:f.Attr().NewAttr("style",kC),$1:ks?g.ofArray([f.Attr().NewAttr("colspan","2")]):$.New(n,{$:0})}),g.ofArray([ku])));};};};};};};};kE=j8.Element;kF=j8.Label;if(kF.$==1){kH=kF.$0;kI=j6.LabelConfiguration;kJ=Z.get_Default();kK=w.Maybe(kJ,function(kL){return kL;},kI);kM=kH(null);kN=kK.Align;kO=this.HorizontalAlignElem(kN,kM);kP=kK.Placement;if(kP.$==3){kQ=w.InTable(g.ofArray([g.ofArray([kE]),g.ofArray([kO])]));kG=g.ofArray([((((((kn(kc))(kf))(ki))(kl))(true))({$:0}))(kQ)]);}else{if(kP.$==0){kG=g.ofArray([((((((kn(kc))(kf))(0))(kl))(false))({$:1,$0:kK.VerticalAlign}))(kO),((((((kn(0))(kf))(ki))(kl))(false))({$:0}))(kE)]);}else{if(kP.$==1){kG=g.ofArray([((((((kn(kc))(kf))(0))(kl))(false))({$:1,$0:kK.VerticalAlign}))(kE),((((((kn(0))(kf))(ki))(kl))(false))({$:0}))(kO)]);}else{kR=w.InTable(g.ofArray([g.ofArray([kO]),g.ofArray([kE])]));kG=g.ofArray([((((((kn(kc))(kf))(ki))(kl))(true))({$:0}))(kR)]);}}}}else{kG=g.ofArray([((((((kn(kc))(kf))(ki))(kl))(true))({$:0}))(kE)]);}kS=j6.Class;kT=$.New(n,{$:0});kU=w.Maybe(kT,function(kV){var kW;kW=kV(j7);return g.ofArray([f.Attr().Class(kW)]);},kS);kX=j6.Color;kY=$.New(n,{$:0});kZ=w.Maybe(kY,function(k0){return g.ofArray(["background-color: "+k0(j7)]);},kX);k1=j6.Style;k2=$.New(n,{$:0});k3=g.append(kZ,w.Maybe(k2,function(k4){return g.ofArray([k4(j7)]);},k1));if(k3.$==0){k5=$.New(n,{$:0});}else{k6=v.reduce(function(k7){return function(k8){return k7+";"+k8;};},k3);k5=g.ofArray([f.Attr().NewAttr("style",k6)]);}return f.TR(g.append(kU,g.append(k5,g.append(k5,kG))));},RowLayout:function(k9){var k_,li=this;k_=this.LayoutUtils;return k_.New(function(){var la,lb,lc,ld,lo;la=f.TBody($.New(n,{$:0}));lb=f.Table(g.ofArray([la]));lc=N.NewElementStore();ld=function(le){return function(lf){var lg,lh,lj,lk,ll;lg=lf.Element.get_Id();lh=li.MakeRow(k9,le,lf);lj=p(la.Body);lk={contents:0};ll={contents:false};lj.children().each(function(){var lm;lm=p(this);if(le===lk.contents){p(lh.Body).insertBefore(lm);lh.Render();ll.contents=true;}return s.Increment(lk);});if(!ll.contents){la.AppendI(lh);}return lc.RegisterElement(lg,function(){return lh["HtmlProvider@32"].Remove(lh.Body);});};};lo=function(lp){var lq;lq=_1.Get(lp);while(lq.MoveNext()){lc.Remove(lq.get_Current().Element.get_Id());}return;};return{Body:$.New(c,{Element:lb,Label:{$:0}}),SyncRoot:null,Insert:ld,Remove:lo};});},VerticalAlignedTD:function(lr,ls){var lt,lu;lt=lr.$==1?"middle":lr.$==2?"bottom":"top";lu=f.TD(g.ofArray([ls]));lu["HtmlProvider@32"].SetCss(lu.Body,"vertical-align",lt);return lu;},get_Flowlet:function(){return this.MakeLayout(function(){var lw;lw=f.Div($.New(n,{$:0}));return{Insert:function(){return function(ly){var lz;lz=w.InTable(g.ofArray([g.ofArray([ly.Label.$==1?ly.Label.$0.call(null,null):f.Span($.New(n,{$:0})),f.Div(g.ofArray([ly.Element]))])]));lw["HtmlProvider@32"].Clear(lw.Body);lw.AppendI(lz);return g.ofArray([lz]);};},Panel:lw};});},get_Horizontal:function(){return this.ColumnLayout(Y.get_Default());},get_Vertical:function(){return this.RowLayout(Y.get_Default());}},{New:function(lA){var lB;lB=$.New(this,{});lB.LayoutUtils=lA;return lB;}}),Utils:{InTable:function(lC){return f.Table(g.ofArray([f.TBody(g.map(function(lD){return f.TR(g.map(function(lE){return f.TD(g.ofArray([lE]));},lD));},lC))]));},MapOption:function(lF,lG){return lG.$==1?{$:1,$0:lF(lG.$0)}:{$:0};},Maybe:function(lH,lI,lJ){return lJ.$==0?lH:lI(lJ.$0);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Body);d=$.Safe(b.Controls);e=$.Safe(a.Html);f=$.Safe(e.Default);g=$.Safe(a.List);h=$.Safe(b.Data);i=$.Safe($$.IntelliFactory.Reactive);j=$.Safe(i.HotStream);k=$.Safe($$.IntelliFactory.Formlet);l=$.Safe(k.Base);m=$.Safe(l.Result);n=$.Safe(g.T);o=$.Safe(e.Operators);p=$.Safe($$.jQuery);q=$.Safe(e.EventsPervasives);r=$.Safe(b.Formlet);s=$.Safe(a.Operators);t=$.Safe(b.CssConstants);u=$.Safe($$.Math);v=$.Safe(a.Seq);w=$.Safe(b.Utils);x=$.Safe(l.Tree);y=$.Safe(x.Edit);z=$.Safe(l.Form);A=$.Safe(a.Arrays);B=$.Safe(a.IntrinsicFunctionProxy);C=$.Safe(l.FormletProvider);D=$.Safe(h.Formlet);E=$.Safe(a.Util);F=$.Safe(b.LayoutProvider);G=$.Safe(l.LayoutUtils);H=$.Safe(i.Reactive);I=$.Safe(l.Validator);J=$.Safe(h.ValidatorProvidor);K=$.Safe($$.RegExp);L=$.Safe(a.Collections);M=$.Safe(L.Dictionary);N=$.Safe(b.ElementStore);O=$.Safe(b.Enhance);P=$.Safe(O.FormButtonConfiguration);Q=$.Safe(O.FormContainerConfiguration);R=$.Safe(O.Padding);S=$.Safe(O.ManyConfiguration);T=$.Safe(O.ValidationFrameConfiguration);U=$.Safe(O.ValidationIconConfiguration);V=$.Safe($$.JSON);W=$.Safe(b.FormletBuilder);X=$.Safe(b.Layout);Y=$.Safe(X.FormRowConfiguration);Z=$.Safe(X.LabelConfiguration);_0=$.Safe(X.Padding);return _1=$.Safe(a.Enumerator);});$.OnLoad(function(){r.Do();h.Validator();h.RX();h.Layout();h.DefaultLayout();t.InputTextClass();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;$.Define($$,{ellipsoid:{org:{SharpAngles:{Samples:{FirstExample:{Client:{Main:$.Field(function(){return a.module("todoApp",[]).controller("TodoController",["$scope",function(x){x.todos=c.Call("ellipsoid.org.SharpAngles.Samples:0",[]);x.addTodo=function(){var z,A;z=x.todos;A=[{text:x.todoText,done:false}];z.push.apply(z,[].concat(A));x.todoText="";return;};x.remaining=function(){return d.filter(function(C){return!C.done;},x.todos).length;};x.archive=function(){x.todos=d.filter(function(E){return!E.done;},x.todos);return;};return;}]);})}},SecondExample:{Client:{DataSource:$.Class({},{New:function(){return $.New(this,{});}}),Main:$.Field(function(){return a.module("project",["ngRoute","firebase"]).value("fbURL","https://angularjs-projects.firebaseio.com/").factory("Projects",["$firebase","fbURL",$.Tupled(function(F){return F[0].call(null,new e(F[1])).$asArray();})]).config(["$routeProvider",function(G){return G.when("/",{controller:"ListCtrl",templateUrl:"list.html"}).when("/edit/:projectId",{controller:"EditCtrl",templateUrl:"detail.html"}).when("/new",{controller:"CreateCtrl",templateUrl:"detail.html"}).otherwise({redirectTo:"/"});}]).controller("ListCtrl",["$scope","Projects",$.Tupled(function(H){H[0].projects=H[1];return;})]).controller("CreateCtrl",["$scope","$location","Projects",$.Tupled(function(I){var J,K,L;J=I[0];K=I[1];L=I[2];J.save=function(){L.$add(J.project).then(function(){return K.path("/");});};return;})]).controller("EditCtrl",["$scope","$location","$routeParams","Projects",$.Tupled(function(O){var P,Q,R,S,T;P=O[0];Q=O[1];R=O[2];S=O[3];T=S.$indexFor(R.projectId);P.projects=S;P.project=P.projects[T];P.destroy=function(){P.projects.$remove(P.project).then(function(){return Q.path("/");});};P.save=function(){P.projects.$save(P.project).then(function(){return Q.path("/");});};return;})]);}),Project:$.Class({get_$id:function(){return"";},get_description:function(){return"";},get_name:function(){return"";},get_site:function(){return"";}},{New:function(){return $.New(this,{});}})}},Tests:{TestsApp:$.Field(function(){return a.module("testsApp",["ui.router"]).config(["$resource",function(){return null;}]).config(["$stateProvider","$urlRouterProvider",$.Tupled(function(Z){return Z[0].state("state1",{url:"/state1",templateUrl:"partials/state1.html"}).state("state1.list",{url:"/list",templateUrl:"partials/state1.list.html"}).state("state2",{url:"/state2",templateUrl:"partials/state2.html"});})]).controller("TestController",["$scope",function(_0){return _0.$on("blah",function(){return null;});}]).run(["$state",function(_2){return _2.transitionTo("foo");}]).run(["$sce",function(){return null;}]);})},ThirdExample:{Client:{Main:$.Field(function(){var _4,_5,_6,_7,_8,_9;_4=g.add(h.Div(i.ofArray([h.Attr().Class("tabbable")])),i.ofArray([g.add(h.UL(i.ofArray([h.Attr().Class("nav nav-tabs")])),i.ofArray([g.add(h.LI(i.ofArray([(o.NgRepeat())("pane in panes"),(o.NgClass())("{active:pane.selected}")])),i.ofArray([g.add(h.A(i.ofArray([h.HRef(""),(o.NgClick())("select(pane)")])),i.ofArray([h.Text("{{pane.title}}")]))]))])),h.Div(i.ofArray([h.Attr().Class("tab-content"),(o.NgTransclude())("")]))]));_5=o.Templatify(_4);_6=h.Div(i.ofArray([h.Attr().Class("tab-pane"),(o.NgClass())("{active: selected}"),(o.NgTransclude())("")]));_7=o.Templatify(_6);_8=a.module("components",[]);_9=_8.controller("TabsCtrl",["$scope","$element",function(_){_.panes=[];_.select=function(bb){d.iter(function(bc){bc.selected=false;return;},_.panes);bb.selected=true;return;};this.addPane=function(bc){var bd,be;if(p.GetLength(_.panes)===0){_.select.call(null,bc);}bd=_.panes;be=[bc];bd.push.apply(bd,[].concat(be));return;};return;}]);_8.directive("tabs",function(){return{restrict:"E",transclude:true,scope:{},controller:"TabsCtrl",template:_5,replace:true};}).directive("pane",function(){return{require:"^tabs",restrict:"E",transclude:true,scope:{title:"@"},link:$.Tupled(function(bh){return bh[3].addPane.call(null,bh[0]);}),template:_7,replace:true};});return a.module("app",["components"]).controller("BeerCounter",["$scope","$locale",$.Tupled(function(bi){var bj,bk;bj=bi[0];bk=bi[1];bj.beers=q.toArray(r.range(0,6));return bk.id==="en-us"?void(bj.beerForms={"0":"no beers",one:"{} beer",few:"{} beer",other:"{} beers"}):void(bj.beerForms={"0":"\ufffdiadne pivo",one:"{} pivo",few:"{} piv\ufffd",other:"{} p\ufffdv"});})]);}),NgClass:$.Field(function(){return function(bl){return h.Attr().NewAttr("ng-class",bl);};}),NgClick:$.Field(function(){return function(bm){return h.Attr().NewAttr("ng-click",bm);};}),NgRepeat:$.Field(function(){return function(bn){return h.Attr().NewAttr("ng-repeat",bn);};}),NgTransclude:$.Field(function(){return function(bo){return h.Attr().NewAttr("ng-transclude",bo);};}),Templatify:function(bp){return h.Div(i.ofArray([bp])).get_Html();}}}}}}}});$.OnInit(function(){a=$.Safe($$.angular);b=$.Safe($$.IntelliFactory.WebSharper);c=$.Safe(b.Remoting);d=$.Safe(b.Arrays);e=$.Safe($$.Firebase);f=$.Safe(b.Html);g=$.Safe(f.Operators);h=$.Safe(f.Default);i=$.Safe(b.List);j=$.Safe($$.ellipsoid);k=$.Safe(j.org);l=$.Safe(k.SharpAngles);m=$.Safe(l.Samples);n=$.Safe(m.ThirdExample);o=$.Safe(n.Client);p=$.Safe(b.IntrinsicFunctionProxy);q=$.Safe(b.Seq);r=$.Safe(b.Operators);s=$.Safe(m.FirstExample);t=$.Safe(s.Client);u=$.Safe(m.SecondExample);v=$.Safe(u.Client);return w=$.Safe(m.Tests);});$.OnLoad(function(){o.NgTransclude();o.NgRepeat();o.NgClick();o.NgClass();o.Main();w.TestsApp();v.Main();t.Main();return;});}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
